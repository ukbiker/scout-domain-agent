<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- SECURITY: Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; script-src 'unsafe-inline'; style-src 'unsafe-inline'; img-src 'self' data:; font-src 'self'; connect-src 'none'; frame-src 'none'; object-src 'none'; base-uri 'self'; form-action 'none';">
    <!-- SECURITY: Prevent MIME sniffing -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <!-- SECURITY: Clickjacking protection -->
    <meta http-equiv="X-Frame-Options" content="SAMEORIGIN">
    <!-- SECURITY: No referrer leakage -->
    <meta http-equiv="Referrer-Policy" content="no-referrer">
    <title>Scout v4.0 - Domain Terrier AI Agent</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #FF8C42 0%, #2E5266 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            width: 100%;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
            display: grid;
            grid-template-columns: 300px 1fr;
            min-height: 600px;
        }
        
        .sidebar {
            background: linear-gradient(180deg, #FF8C42 0%, #FF6B35 100%);
            padding: 30px;
            color: white;
        }
        
        .scout-avatar {
            width: 100%;
            border-radius: 15px;
            margin-bottom: 20px;
            border: 5px solid white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .scout-name {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .scout-title {
            font-size: 14px;
            text-align: center;
            opacity: 0.9;
            margin-bottom: 20px;
        }
        
        .stats {
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .stat-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 14px;
        }
        
        .stat-value {
            font-weight: bold;
        }
        
        .chat-area {
            display: flex;
            flex-direction: column;
            background: #f8f9fa;
        }
        
        .chat-header {
            background: #2E5266;
            color: white;
            padding: 20px 30px;
            border-bottom: 3px solid #FF8C42;
        }
        
        .chat-header h1 {
            font-size: 24px;
            margin-bottom: 5px;
        }
        
        .chat-header p {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .chat-messages {
            flex: 1;
            padding: 30px;
            padding-bottom: 80px;
            overflow-y: auto;
            max-height: 500px;
        }
        
        .message {
            margin-bottom: 20px;
            display: flex;
            gap: 15px;
        }
        
        .message.scout {
            align-items: flex-start;
        }
        
        .message.user {
            flex-direction: row-reverse;
        }
        
        .message-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #FF8C42;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            flex-shrink: 0;
        }
        
        .message-content {
            background: white;
            padding: 15px 20px;
            border-radius: 15px;
            max-width: 70%;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .message.user .message-content {
            background: #2E5266;
            color: white;
        }
        
        .message-actions {
            font-style: italic;
            color: #666;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .chat-input {
            padding: 20px 30px;
            background: white;
            border-top: 2px solid #e9ecef;
        }
        
        .input-group {
            display: flex;
            gap: 10px;
        }
        
        .input-group input {
            flex: 1;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 16px;
        }
        
        .input-group input:focus {
            outline: none;
            border-color: #FF8C42;
        }
        
        .input-group button {
            padding: 15px 30px;
            background: #FF8C42;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .input-group button:hover {
            background: #FF6B35;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255,140,66,0.4);
        }
        
        .quick-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }
        
        .quick-action {
            padding: 8px 15px;
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .quick-action:hover {
            background: #FF8C42;
            color: white;
            border-color: #FF8C42;
        }
        
        .domain-card {
            background: #f8f9fa;
            border-left: 4px solid #FF8C42;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
        }
        
        .domain-name {
            font-size: 18px;
            font-weight: bold;
            color: #2E5266;
            margin-bottom: 5px;
        }
        
        .domain-price {
            font-size: 20px;
            color: #FF8C42;
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .domain-description {
            font-size: 14px;
            color: #666;
            margin-bottom: 10px;
        }
        
        .contact-box {
            background: linear-gradient(135deg, #2E5266 0%, #1a3344 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
        }
        
        .contact-box h3 {
            margin-bottom: 15px;
            font-size: 18px;
        }
        
        .contact-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            font-size: 14px;
        }
        
        .contact-item a {
            color: #FF8C42;
            text-decoration: none;
        }
        
        .contact-item a:hover {
            text-decoration: underline;
        }
        
        .social-icon {
            width: 20px;
            height: 20px;
            vertical-align: middle;
        }
        
        .privacy-badge {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            text-align: center;
            padding: 12px 20px;
            font-size: 13px;
            border-top: 2px solid #FF8C42;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            flex-wrap: wrap;
        }
        
        .privacy-badge-icon {
            font-size: 16px;
        }
        
        .privacy-badge-text {
            font-weight: 600;
            margin-right: 5px;
        }
        
        .privacy-badge-details {
            opacity: 0.9;
            font-size: 12px;
        }
        
        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
                padding-bottom: 50px;
            }
            .sidebar {
                display: none;
            }
            .privacy-badge {
                font-size: 11px;
                padding: 10px 15px;
            }
            .privacy-badge-details {
                font-size: 10px;
            }
        }
        
        /* FAQ Styles */
        .faq-item {
            margin-bottom: 15px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            overflow: hidden;
            transition: all 0.3s;
        }
        
        .faq-item:hover {
            border-color: #FF8C42;
            box-shadow: 0 2px 8px rgba(255, 140, 66, 0.1);
        }
        
        .faq-question {
            padding: 15px 20px;
            background: #f9f9f9;
            cursor: pointer;
            font-weight: 600;
            color: #1a1a2e;
            user-select: none;
            transition: all 0.3s;
        }
        
        .faq-question:hover {
            background: #fff3e6;
            color: #FF8C42;
        }
        
        .faq-answer {
            padding: 20px;
            background: white;
            line-height: 1.6;
            border-top: 1px solid #f0f0f0;
        }
        
        .faq-answer a {
            color: #FF8C42;
            text-decoration: none;
            font-weight: 600;
        }
        
        .faq-answer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <img src="scout_avatar_icon.png" alt="Scout" class="scout-avatar" id="scoutAvatar" onerror="this.style.display='none'">
            <div class="scout-name">üêï Scout</div>
            <div class="scout-title">AI Domain Hunting Agent v4.0</div>
            
            <div class="stats">
                <div class="stat-item">
                    <span>Total Domains:</span>
                    <span class="stat-value">700+</span>
                </div>
                <div class="stat-item">
                    <span>Web2 (.com):</span>
                    <span class="stat-value">300+</span>
                </div>
                <div class="stat-item">
                    <span>Web3:</span>
                    <span class="stat-value">400+</span>
                </div>
                <div class="stat-item">
                    <span>TLDs Owned:</span>
                    <span class="stat-value">33</span>
                </div>
            </div>
            
            <div class="contact-box">
                <h3>üêï *Ears perked* Ready to Buy?</h3>
                <div class="contact-item">
                    üìß <a href="/cdn-cgi/l/email-protection#452c2b232a05212a28242c2b312037372c20376b262a28"><span class="__cf_email__" data-cfemail="7a13141c153a1e15171b13140e1f0808131f0854191517">[email&#160;protected]</span></a>
                </div>
                <div class="contact-item">
                    üîó <a href="https://domainterrier.com" target="_blank" rel="noopener noreferrer">domainterrier.com</a>
                </div>
                <p style="margin-top: 15px; font-size: 13px; opacity: 0.9;">
                    Woof! I'm here 24/7, but Colin handles negotiations!
                </p>
            </div>
        </div>
        
        <div class="chat-area">
            <div class="chat-header">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h1>üêï Scout - Domain Assistant</h1>
                        <p>Powered by AI Education & Smart Search!</p>
                    </div>
                    <button onclick="toggleFAQ()" id="faqButton" style="background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); padding: 10px 20px; border-radius: 20px; cursor: pointer; font-size: 14px; font-weight: 600; transition: all 0.3s;">
                        üìö FAQs
                    </button>
                </div>
            </div>
            
            <!-- FAQ Panel (hidden by default) -->
            <div id="faqPanel" style="display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: white; z-index: 1000; overflow-y: auto;">
                <div style="padding: 20px; max-width: 700px; margin: 0 auto;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid #ddd;">
                        <h2 style="margin: 0; color: #1a1a2e;">üìö Frequently Asked Questions</h2>
                        <button onclick="toggleFAQ()" style="background: #f0f0f0; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer; font-weight: 600;">‚úï Close</button>
                    </div>
                    
                    <!-- Buying Domains Section -->
                    <div style="margin-bottom: 25px;">
                        <h3 style="color: #FF8C42; margin-bottom: 15px;">üõí BUYING DOMAINS</h3>
                        
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleAnswer(this)">
                                ‚ñ∂ How do I purchase a domain? <span style="float: right; color: #999;">Click to expand</span>
                            </div>
                            <div class="faq-answer" style="display: none;">
                                <strong>Easy 4-step process:</strong><br><br>
                                1. <strong>Browse & Choose:</strong> Explore domains or contact Colin directly<br>
                                2. <strong>Agree on Price:</strong> Listed price or make an offer (domains over $2,995)<br>
                                3. <strong>Secure Payment:</strong> Complete purchase via Escrow.com (100% safe!)<br>
                                4. <strong>Transfer:</strong> Domain transfers to you within 1-3 business days<br><br>
                                üìß <strong>Questions?</strong> Email Colin: <a href="/cdn-cgi/l/email-protection#51383f373e11353e3c30383f253423233834237f323e3c"><span class="__cf_email__" data-cfemail="d1b8bfb7be91b5bebcb0b8bfa5b4a3a3b8b4a3ffb2bebc">[email&#160;protected]</span></a>
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleAnswer(this)">
                                ‚ñ∂ Do you accept offers?
                            </div>
                            <div class="faq-answer" style="display: none;">
                                Yes! For domains priced <strong>over $2,995</strong>, Colin welcomes reasonable offers.<br><br>
                                <strong>How to make an offer:</strong><br>
                                ‚Ä¢ Email Colin at <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="2b42454d446b4f44464a42455f4e5959424e5905484446">[email&#160;protected]</a> with your offer<br>
                                ‚Ä¢ Or use the "Make Offer" feature on Atom.com/Dynadot listings<br><br>
                                Colin typically responds within 24 hours!
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleAnswer(this)">
                                ‚ñ∂ What payment methods do you accept?
                            </div>
                            <div class="faq-answer" style="display: none;">
                                <strong>All major payment methods via Escrow.com:</strong><br><br>
                                ‚Ä¢ Credit/Debit Cards (Visa, Mastercard, Amex)<br>
                                ‚Ä¢ Wire Transfer<br>
                                ‚Ä¢ PayPal<br>
                                ‚Ä¢ Cryptocurrency (Bitcoin, Ethereum)<br><br>
                                <strong>Plus:</strong> Lease-to-Own payment plans available through Dynadot & Atom!
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleAnswer(this)">
                                ‚ñ∂ How long does domain transfer take?
                            </div>
                            <div class="faq-answer" style="display: none;">
                                <strong>Typical timeline:</strong><br><br>
                                ‚Ä¢ <strong>Payment cleared:</strong> 1-2 business days (via Escrow.com)<br>
                                ‚Ä¢ <strong>Domain unlocked & transfer initiated:</strong> Same day<br>
                                ‚Ä¢ <strong>Transfer complete:</strong> 1-3 business days<br><br>
                                <strong>Total:</strong> Usually 2-5 business days from payment to full ownership!<br><br>
                                Web3 domains (.filipino, .aviator, etc.) transfer instantly once payment clears!
                            </div>
                        </div>
                    </div>
                    
                    <!-- Web3 Domains Section -->
                    <div style="margin-bottom: 25px;">
                        <h3 style="color: #FF8C42; margin-bottom: 15px;">üöÄ WEB3 DOMAINS</h3>
                        
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleAnswer(this)">
                                ‚ñ∂ What are Web3 domains?
                            </div>
                            <div class="faq-answer" style="display: none;">
                                <strong>Web3 domains are blockchain-based domains you TRULY OWN!</strong><br><br>
                                <strong>Key differences from traditional .com domains:</strong><br>
                                ‚úÖ <strong>True Ownership:</strong> Stored on blockchain, you own it like an NFT<br>
                                ‚úÖ <strong>No Renewals:</strong> Pay once, own forever (no annual fees!)<br>
                                ‚úÖ <strong>Decentralized:</strong> No central authority controls them<br>
                                ‚úÖ <strong>Future-Proof:</strong> Early positioning in Web3 economy<br><br>
                                <strong>Examples:</strong> .filipino, .aviator, .agi, .innovator, .fittest<br><br>
                                ‚ö†Ô∏è <strong>Note:</strong> Web3 is emerging technology. Benefits are real, but always research!
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleAnswer(this)">
                                ‚ñ∂ What's the difference between .com and .filipino domains?
                            </div>
                            <div class="faq-answer" style="display: none;">
                                <strong>.com (Web2 - Traditional):</strong><br>
                                ‚Ä¢ Controlled by ICANN (central organization)<br>
                                ‚Ä¢ Annual renewal fees required<br>
                                ‚Ä¢ You're licensing, not owning<br>
                                ‚Ä¢ Most trusted/recognized TLD<br><br>
                                
                                <strong>.filipino (Web3 - Blockchain):</strong><br>
                                ‚Ä¢ Stored on blockchain<br>
                                ‚Ä¢ One-time purchase, own forever<br>
                                ‚Ä¢ True ownership (like an NFT)<br>
                                ‚Ä¢ Colin earns royalty on sales<br><br>
                                
                                Both have value! .com = established trust, .filipino = future innovation + true ownership
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleAnswer(this)">
                                ‚ñ∂ Do I need a crypto wallet?
                            </div>
                            <div class="faq-answer" style="display: none;">
                                <strong>For Web3 domains: Yes, eventually!</strong><br><br>
                                <strong>Purchasing:</strong> You can buy with regular payment methods (credit card, PayPal, etc.)<br><br>
                                <strong>Managing:</strong> You'll need a crypto wallet (like MetaMask) to:<br>
                                ‚Ä¢ Receive the domain NFT<br>
                                ‚Ä¢ Transfer ownership<br>
                                ‚Ä¢ Connect to Web3 services<br><br>
                                <strong>Don't worry!</strong> It's easier than it sounds, and Colin can guide you through the setup! üêï
                            </div>
                        </div>
                    </div>
                    
                    <!-- Pricing & Payments Section -->
                    <div style="margin-bottom: 25px;">
                        <h3 style="color: #FF8C42; margin-bottom: 15px;">üí∞ PRICING & PAYMENTS</h3>
                        
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleAnswer(this)">
                                ‚ñ∂ Why are some domains more expensive than others?
                            </div>
                            <div class="faq-answer" style="display: none;">
                                <strong>Domain value is determined by 5 key factors:</strong><br><br>
                                1. <strong>Length:</strong> Shorter = more valuable (velocair.com vs longaviationcompany.com)<br>
                                2. <strong>Brandability:</strong> Easy to remember, pronounce, spell<br>
                                3. <strong>Keywords:</strong> Industry-relevant terms (aviation, robotics, RWA)<br>
                                4. <strong>TLD:</strong> .com is most trusted (and expensive)<br>
                                5. <strong>Market Demand:</strong> Growing industries = higher value<br><br>
                                <strong>Example:</strong> velocair.com = short, memorable, aviation keyword, .com TLD ‚Üí Crown Jewel tier!<br><br>
                                üí° <strong>Ask Scout:</strong> "What makes a good domain?" for detailed guide!
                            </div>
                        </div>
                        
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleAnswer(this)">
                                ‚ñ∂ Do you offer payment plans?
                            </div>
                            <div class="faq-answer" style="display: none;">
                                <strong>Yes! Lease-to-Own (LTO) plans available!</strong><br><br>
                                <strong>Through Dynadot & Atom:</strong><br>
                                ‚Ä¢ Spread payments over 12-24 months<br>
                                ‚Ä¢ Low monthly installments<br>
                                ‚Ä¢ Own the domain at the end<br><br>
                                <strong>Example:</strong> $18,000 domain = ~$1,500/month for 12 months<br><br>
                                Domains marked with ‚úÖ <strong>Lease-to-Own Available</strong> qualify!<br><br>
                                üìß <strong>Questions?</strong> Contact Colin: <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b8d1d6ded7f8dcd7d5d9d1d6ccddcacad1ddca96dbd7d5">[email&#160;protected]</a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Technical Section -->
                    <div style="margin-bottom: 25px;">
                        <h3 style="color: #FF8C42; margin-bottom: 15px;">üîß TECHNICAL</h3>
                        
                        <div class="faq-item">
                            <div class="faq-question" onclick="toggleAnswer(this)">
                                ‚ñ∂ Is Escrow.com safe?
                            </div>
                            <div class="faq-answer" style="display: none;">
                                <strong>Absolutely! Escrow.com is the gold standard for domain transactions.</strong><br><br>
                                ‚úÖ Licensed and regulated<br>
                                ‚úÖ Used by GoDaddy, Sedo, and major marketplaces<br>
                                ‚úÖ Protects both buyer and seller<br>
                                ‚úÖ Handles $5+ billion in transactions<br><br>
                                <strong>How it works:</strong><br>
                                1. Buyer pays Escrow.com (seller doesn't get money yet)<br>
                                2. Seller transfers domain to buyer<br>
                                3. Buyer verifies they received domain<br>
                                4. Escrow releases payment to seller<br><br>
                                You're 100% protected throughout the entire process!
                            </div>
                        </div>
                    </div>
                    
                    <!-- Still Have Questions -->
                    <div style="text-align: center; padding: 30px 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 10px; color: white; margin-top: 30px;">
                        <h3 style="margin-bottom: 15px;">üí¨ Still Have Questions?</h3>
                        <p style="margin-bottom: 20px;">Scout is here to help! Ask me anything about domains, Web3, pricing, or payment options!</p>
                        <button onclick="toggleFAQ()" style="background: white; color: #667eea; border: none; padding: 12px 30px; border-radius: 25px; cursor: pointer; font-weight: 600; font-size: 15px;">Ask Scout! üêï</button>
                    </div>
                </div>
            </div>
            
            <div class="chat-messages" id="chatMessages">
                <div class="message scout">
                    <div class="message-avatar">üêï</div>
                    <div class="message-content">
                        <div class="message-actions">*Tail wags*</div>
                        <strong>Woof! Welcome to Domain Terrier!</strong>
                        <p style="margin-top: 10px;">
                            I'm Scout v4.1, your AI domain hunting companion with <strong>smart educational features</strong>!
                        </p>
                        
                        <!-- Domain of the Day -->
                        <div id="domainOfDay" style="margin: 15px 0; padding: 15px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 10px; color: white; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);">
                            <div style="font-size: 12px; text-transform: uppercase; letter-spacing: 1px; opacity: 0.9; margin-bottom: 8px;">üåü Today's Featured Domain</div>
                            <div style="font-size: 20px; font-weight: bold; margin-bottom: 5px;" id="dotdName">Loading...</div>
                            <div style="font-size: 14px; opacity: 0.9; margin-bottom: 10px;" id="dotdDescription">Loading...</div>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div style="font-size: 18px; font-weight: bold;" id="dotdPrice">$0</div>
                                <button onclick="quickQuery('How much is ' + document.getElementById('dotdName').textContent + '?')" style="background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 13px; font-weight: 600;">Learn More üêï</button>
                            </div>
                        </div>
                        
                        <p style="margin-top: 10px; padding: 10px; background: #f0f4ff; border-left: 4px solid #4a90d9; border-radius: 5px; font-size: 14px;">
                            ‚ú® <strong>What's New in v4.1:</strong><br>
                            üìö Domain education - Learn about investing!<br>
                            üí∞ Payment plans - LTO info available!<br>
                            ü§ñ Industry insights - AMR & RWA markets!<br>
                            üöÄ Web3 deep dives - Understand blockchain domains!<br>
                            üåü Daily featured domain - New opportunity every day!
                        </p>
                        <p style="margin-top: 10px;">
                            What brings you here today?<br>
                            üîç Searching for a specific domain?<br>
                            üåê Exploring opportunities?<br>
                            ‚ùì Have questions about Web3?
                        </p>
                        <p style="margin-top: 10px;">
                            Just ask - I'm here to help!
                        </p>
                    </div>
                </div>
            </div>
            
            <div class="chat-input">
                <div class="input-group">
                    <input 
                        type="text" 
                        id="userInput" 
                        placeholder="Ask Scout about domains, Web3, privacy crypto, TLDs..."
                        maxlength="200"
                        autocomplete="off"
                        onkeypress="if(event.key==='Enter') sendMessage()"
                    >
                    <button onclick="sendMessage()">Send üêï</button>
                </div>
                <div class="quick-actions">
                    <!-- Section 1: Quick Browse -->
                    <div style="margin-bottom: 8px; font-size: 11px; color: #999; text-transform: uppercase; letter-spacing: 0.5px;">Quick Browse</div>
                    <div style="display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 12px;">
                        <div class="quick-action" onclick="quickQuery('Show me aviation domains')">‚úàÔ∏è Aviation</div>
                        <div class="quick-action" onclick="quickQuery('Show me robotics domains')">ü§ñ Robotics</div>
                        <div class="quick-action" onclick="quickQuery('Show me Filipino domains')">üáµüá≠ Filipino</div>
                        <div class="quick-action" onclick="quickQuery('Show me RWA domains')">üèõÔ∏è RWA</div>
                        <div class="quick-action" onclick="quickQuery('Show me AI agent domains')">üß† AI Agents</div>
                    </div>
                    
                    <!-- Section 2: By Type -->
                    <div style="margin-bottom: 8px; font-size: 11px; color: #999; text-transform: uppercase; letter-spacing: 0.5px;">By Type</div>
                    <div style="display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 12px;">
                        <div class="quick-action" onclick="quickQuery('Show me Web3 domains')">üöÄ Web3 TLDs</div>
                        <div class="quick-action" onclick="quickQuery('Show me premium com domains')">üíé Premium .com</div>
                        <div class="quick-action" onclick="quickQuery('Show me crown jewel domains')">üëë Crown Jewels</div>
                    </div>
                    
                    <!-- Section 3: Education -->
                    <div style="margin-bottom: 8px; font-size: 11px; color: #999; text-transform: uppercase; letter-spacing: 0.5px;">Education</div>
                    <div style="display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 12px;">
                        <div class="quick-action" onclick="quickQuery('How do I learn about domains?')">üìö Domain Education</div>
                        <div class="quick-action" onclick="quickQuery('Tell me about AMR robotics')">ü§ñ AMR Market</div>
                        <div class="quick-action" onclick="quickQuery('What is RWA tokenization?')">üèõÔ∏è RWA Market</div>
                    </div>
                    
                    <!-- Section 4: Practical -->
                    <div style="margin-bottom: 8px; font-size: 11px; color: #999; text-transform: uppercase; letter-spacing: 0.5px;">Practical</div>
                    <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                        <div class="quick-action" onclick="quickQuery('Payment plans?')">üí∞ Payment Options</div>
                        <div class="quick-action" onclick="quickQuery('Compare velocair.com and autonosurgeon.com')">‚öñÔ∏è Compare Domains</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="privacy-badge">
        <span class="privacy-badge-icon">üîí</span>
        <span class="privacy-badge-text">Your Privacy Protected</span>
        <span class="privacy-badge-details">No data collected ‚Ä¢ Client-side only ‚Ä¢ Secure</span>
    </div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
// ============================================================================
// SCOUT v4.0 - THREE-LAYER ARCHITECTURE
// Layer 1: Data (Domain Database)
// Layer 2: Logic (Query Understanding)
// Layer 3: Presentation (Response Generation)
// ============================================================================

// Global state
let lastMessageTime = 0;

// ============================================================================
// LAYER 1: DOMAIN DATABASE
// ============================================================================

const DOMAIN_DB = [
    // ============= AVIATION - Premium Collection =============
    { name: "velocair.com", price: 17995, currency: "USD", categories: ["aviation", "premium"], type: "com", tier: "crown-jewel", description: "Premium aviation brand - Crown Jewel!", keywords: ["velocity", "air", "aviation", "airline", "aerospace"], lto: true },
    { name: "AVRInstruments.com", price: 9995, currency: "USD", categories: ["aviation", "instruments"], type: "com", tier: "premium", description: "Aviation instruments", keywords: ["avr", "aviation", "instruments", "avionics"], lto: true },
    { name: "AVRRobotics.com", price: 9995, currency: "USD", categories: ["aviation", "robotics"], type: "com", tier: "premium", description: "Aviation robotics", keywords: ["avr", "aviation", "robotics", "drones"], lto: true },
    { name: "EMRInstruments.com", price: 9995, currency: "USD", categories: ["aviation", "emergency"], type: "com", tier: "premium", description: "Emergency instruments", keywords: ["emr", "emergency", "instruments"], lto: true },
    { name: "AviationRWA.com", price: 8995, currency: "USD", categories: ["aviation", "rwa"], type: "com", tier: "premium", description: "Aviation tokenization", keywords: ["aviation", "rwa", "tokenization"], lto: true },
    { name: "RotorRobotics.com", price: 6995, currency: "USD", categories: ["aviation", "robotics"], type: "com", tier: "premium", description: "Rotor systems", keywords: ["rotor", "robotics", "drones"], lto: true },
    { name: "UBXInstruments.com", price: 7495, currency: "USD", categories: ["aviation", "instruments"], type: "com", tier: "premium", description: "UBX systems", keywords: ["ubx", "instruments"], lto: true },
    { name: "avilyft.com", price: 4995, currency: "USD", categories: ["aviation"], type: "com", tier: "mid", description: "Aviation lift", keywords: ["aviation", "lift"], lto: true },
    { name: "flightsteer.com", price: 4699, currency: "USD", categories: ["aviation"], type: "com", tier: "mid", description: "Flight control", keywords: ["flight", "steer", "control"], lto: true },
    { name: "dronesteer.com", price: 4595, currency: "USD", categories: ["aviation", "drones"], type: "com", tier: "mid", description: "Drone navigation", keywords: ["drone", "steer", "navigation"], lto: true },
    { name: "dronevertical.com", price: 3995, currency: "USD", categories: ["aviation", "drones"], type: "com", tier: "mid", description: "Vertical drones", keywords: ["drone", "vertical"], lto: true },
    { name: "DroidRental.com", price: 4995, currency: "USD", categories: ["aviation", "drones"], type: "com", tier: "mid", description: "Drone rental", keywords: ["droid", "rental", "drone"], lto: true },
    
    // AVIATION - Web3 TLDs
    { name: "f14tomcat.aviator", price: 2500, currency: "USD", categories: ["aviation"], type: "web3", tier: "premium", description: "Top Gun nostalgia!", keywords: ["f14", "tomcat", "fighter", "topgun"], lto: false },
    { name: "f35raptor.aviator", price: 2000, currency: "USD", categories: ["aviation"], type: "web3", tier: "premium", description: "5th gen stealth", keywords: ["f35", "raptor", "stealth"], lto: false },
    { name: "fa18hornet.aviator", price: 1800, currency: "USD", categories: ["aviation"], type: "web3", tier: "mid", description: "Navy Super Hornet", keywords: ["fa18", "hornet", "navy"], lto: false },
    { name: "f16viper.aviator", price: 1800, currency: "USD", categories: ["aviation"], type: "web3", tier: "mid", description: "Fighting Falcon", keywords: ["f16", "viper", "falcon"], lto: false },
    { name: "f15eagle.aviator", price: 1800, currency: "USD", categories: ["aviation"], type: "web3", tier: "mid", description: "Air superiority", keywords: ["f15", "eagle", "fighter"], lto: false },
    { name: "dogfighter.aviator", price: 1500, currency: "USD", categories: ["aviation"], type: "web3", tier: "mid", description: "Air combat", keywords: ["dogfight", "combat", "fighter"], lto: false },
    { name: "topgun.aviator", price: 1500, currency: "USD", categories: ["aviation"], type: "web3", tier: "mid", description: "Iconic!", keywords: ["topgun", "fighter", "pilot"], lto: false },
    
    // ============= FILIPINO - Identity Domains =============
    { name: "manila.filipino", price: 2500, currency: "USD", categories: ["filipino", "geographic"], type: "web3", tier: "premium", description: "Premium city name", keywords: ["manila", "philippines", "capital"], lto: false },
    { name: "filipino.balikbayan", price: 2500, currency: "USD", categories: ["filipino"], type: "web3", tier: "premium", description: "Cultural pride", keywords: ["filipino", "balikbayan", "identity"], lto: false },
    { name: "pinoy.balikbayan", price: 2500, currency: "USD", categories: ["filipino"], type: "web3", tier: "premium", description: "Filipino pride", keywords: ["pinoy", "filipino", "identity"], lto: false },
    { name: "overseasfilipino.balikbayan", price: 1200, currency: "USD", categories: ["filipino"], type: "web3", tier: "mid", description: "OFW identity", keywords: ["overseas", "filipino", "ofw"], lto: false },
    
    // ============= ROBOTICS - Premium Collection =============
    { name: "autonosurgeon.com", price: 12995, currency: "USD", categories: ["robotics", "medical"], type: "com", tier: "crown-jewel", description: "Surgical robotics premium!", keywords: ["autonomous", "surgeon", "medical", "robotics"], lto: true },
    { name: "AutonoAir.com", price: 12995, currency: "USD", categories: ["robotics", "aviation"], type: "com", tier: "premium", description: "Autonomous aviation!", keywords: ["autonomous", "aviation", "drones"], lto: true },
    { name: "autonosentry.com", price: 11995, currency: "USD", categories: ["robotics", "security"], type: "com", tier: "premium", description: "Security robotics", keywords: ["autonomous", "sentry", "security"], lto: true },
    { name: "AutonoCargo.com", price: 9995, currency: "USD", categories: ["robotics", "logistics"], type: "com", tier: "premium", description: "Cargo automation", keywords: ["autonomous", "cargo", "logistics"], lto: true },
    { name: "AutonoNav.com", price: 9995, currency: "USD", categories: ["robotics", "navigation"], type: "com", tier: "premium", description: "Navigation systems", keywords: ["autonomous", "navigation"], lto: true },
    { name: "AutonoPilot.com", price: 9995, currency: "USD", categories: ["robotics", "aviation"], type: "com", tier: "premium", description: "Autopilot market", keywords: ["autonomous", "pilot", "autopilot"], lto: true },
    { name: "AutonoHaul.com", price: 8995, currency: "USD", categories: ["robotics", "logistics"], type: "com", tier: "premium", description: "Autonomous trucking", keywords: ["autonomous", "haul", "trucking"], lto: true },
    { name: "ammrobotics.com", price: 9995, currency: "USD", categories: ["robotics", "amr"], type: "com", tier: "premium", description: "AMR focus!", keywords: ["amr", "robotics", "autonomous"], lto: true },
    { name: "amrexpo.com", price: 9995, currency: "USD", categories: ["robotics", "amr"], type: "com", tier: "premium", description: "AMR expo", keywords: ["amr", "expo", "robotics"], lto: true },
    { name: "rimrobotics.com", price: 10995, currency: "USD", categories: ["robotics"], type: "com", tier: "premium", description: "RIM Robotics brand", keywords: ["rim", "robotics"], lto: true },
    { name: "amrdynamics.com", price: 8995, currency: "USD", categories: ["robotics", "amr"], type: "com", tier: "premium", description: "AMR dynamics", keywords: ["amr", "dynamics", "robotics"], lto: true },
    { name: "amrmobility.com", price: 8995, currency: "USD", categories: ["robotics", "amr"], type: "com", tier: "premium", description: "AMR mobility", keywords: ["amr", "mobility"], lto: true },
    { name: "apxrobotics.com", price: 8995, currency: "USD", categories: ["robotics"], type: "com", tier: "premium", description: "APX brand", keywords: ["apx", "robotics"], lto: true },
    { name: "ravrobotics.com", price: 8995, currency: "USD", categories: ["robotics"], type: "com", tier: "premium", description: "RAV brand", keywords: ["rav", "robotics"], lto: true },
    { name: "reedrobotics.com", price: 8995, currency: "USD", categories: ["robotics"], type: "com", tier: "premium", description: "Reed Robotics", keywords: ["reed", "robotics"], lto: true },
    { name: "ixrrobotics.com", price: 6995, currency: "USD", categories: ["robotics"], type: "com", tier: "mid", description: "IXR brand", keywords: ["ixr", "robotics"], lto: true },
    { name: "vlamrobotics.com", price: 6995, currency: "USD", categories: ["robotics"], type: "com", tier: "mid", description: "VLAM brand", keywords: ["vlam", "robotics"], lto: true },
    { name: "vertrobotics.com", price: 5995, currency: "USD", categories: ["robotics"], type: "com", tier: "mid", description: "Vertical robotics", keywords: ["vert", "vertical", "robotics"], lto: true },
    { name: "autonosolutions.com", price: 6995, currency: "USD", categories: ["robotics"], type: "com", tier: "mid", description: "Autonomous solutions", keywords: ["autonomous", "solutions"], lto: true },
    { name: "autonosupport.com", price: 6995, currency: "USD", categories: ["robotics"], type: "com", tier: "mid", description: "Autonomous support", keywords: ["autonomous", "support"], lto: true },
    { name: "autonoguard.com", price: 6995, currency: "USD", categories: ["robotics", "security"], type: "com", tier: "mid", description: "Autonomous guard", keywords: ["autonomous", "guard", "security"], lto: true },
    { name: "autonovan.com", price: 6995, currency: "USD", categories: ["robotics"], type: "com", tier: "mid", description: "Autonomous van", keywords: ["autonomous", "van"], lto: true },
    { name: "UBXRobotics.com", price: 5495, currency: "USD", categories: ["robotics"], type: "com", tier: "mid", description: "UBX brand", keywords: ["ubx", "robotics"], lto: true },
    { name: "RoboticsWatch.org", price: 5995, currency: "USD", categories: ["robotics", "news"], type: "org", tier: "mid", description: "Industry news", keywords: ["robotics", "watch", "news"], lto: true },
    { name: "RoboticsLingo.com", price: 3995, currency: "USD", categories: ["robotics"], type: "com", tier: "mid", description: "Industry terminology", keywords: ["robotics", "lingo", "terminology"], lto: true },
    
    // TELEMETRY
    { name: "icutelemetry.com", price: 9995, currency: "USD", categories: ["robotics", "medical", "telemetry"], type: "com", tier: "premium", description: "ICU telemetry", keywords: ["icu", "telemetry", "medical"], lto: true },
    { name: "emrtelemetry.com", price: 8995, currency: "USD", categories: ["robotics", "emergency", "telemetry"], type: "com", tier: "premium", description: "Emergency medical", keywords: ["emr", "telemetry", "emergency"], lto: true },
    { name: "evotelemetry.com", price: 8995, currency: "USD", categories: ["robotics", "telemetry"], type: "com", tier: "premium", description: "Evolution brand", keywords: ["evo", "telemetry"], lto: true },
    { name: "sattelemetry.com", price: 8995, currency: "USD", categories: ["robotics", "telemetry"], type: "com", tier: "premium", description: "Satellite data", keywords: ["sat", "satellite", "telemetry"], lto: true },
    { name: "sgntelemetry.com", price: 8995, currency: "USD", categories: ["robotics", "telemetry"], type: "com", tier: "premium", description: "Signal processing", keywords: ["sgn", "signal", "telemetry"], lto: true },
    { name: "avrtelemetry.com", price: 7995, currency: "USD", categories: ["robotics", "telemetry"], type: "com", tier: "premium", description: "AVR systems", keywords: ["avr", "telemetry"], lto: true },
    { name: "orbtelemetry.com", price: 6995, currency: "USD", categories: ["robotics", "telemetry"], type: "com", tier: "mid", description: "Orbital tracking", keywords: ["orb", "orbital", "telemetry"], lto: true },
    
    // ============= RWA - Real World Assets =============
    { name: "RWAManhattan.com", price: 9995, currency: "USD", categories: ["rwa", "geographic"], type: "com", tier: "premium", description: "NYC real estate!", keywords: ["rwa", "manhattan", "real estate"], lto: true },
    { name: "LandRWA.io", price: 9995, currency: "USD", categories: ["rwa", "real-estate"], type: "io", tier: "premium", description: "Real estate RWA", keywords: ["land", "rwa", "real estate"], lto: true },
    { name: "RWAUniverse.com", price: 9995, currency: "USD", categories: ["rwa"], type: "com", tier: "premium", description: "RWA ecosystem", keywords: ["rwa", "universe", "ecosystem"], lto: true },
    { name: "SealRWA.com", price: 9995, currency: "USD", categories: ["rwa", "marine"], type: "com", tier: "premium", description: "Marine RWA", keywords: ["seal", "rwa", "marine"], lto: true },
    { name: "RWAParis.com", price: 9995, currency: "USD", categories: ["rwa", "geographic"], type: "com", tier: "premium", description: "Paris real estate", keywords: ["rwa", "paris", "real estate"], lto: true },
    { name: "RWALondon.com", price: 9995, currency: "USD", categories: ["rwa", "geographic"], type: "com", tier: "premium", description: "London assets", keywords: ["rwa", "london", "real estate"], lto: true },
    { name: "RWAShanghai.com", price: 9995, currency: "USD", categories: ["rwa", "geographic"], type: "com", tier: "premium", description: "Shanghai assets", keywords: ["rwa", "shanghai", "real estate"], lto: true },
    { name: "RWATaipei.com", price: 9995, currency: "USD", categories: ["rwa", "geographic"], type: "com", tier: "premium", description: "Taipei tokenization", keywords: ["rwa", "taipei", "real estate"], lto: true },
    { name: "RWAWashington.com", price: 9995, currency: "USD", categories: ["rwa", "geographic"], type: "com", tier: "premium", description: "DC markets", keywords: ["rwa", "washington", "real estate"], lto: true },
    { name: "RWAZurich.com", price: 9995, currency: "USD", categories: ["rwa", "geographic"], type: "com", tier: "premium", description: "Swiss finance", keywords: ["rwa", "zurich", "switzerland"], lto: true },
    { name: "RWAMumbai.com", price: 9995, currency: "USD", categories: ["rwa", "geographic"], type: "com", tier: "premium", description: "India growth", keywords: ["rwa", "mumbai", "india"], lto: true },
    { name: "RWAPlaza.com", price: 9995, currency: "USD", categories: ["rwa"], type: "com", tier: "premium", description: "Marketplace brand", keywords: ["rwa", "plaza", "marketplace"], lto: true },
    { name: "RWAMarine.com", price: 8995, currency: "USD", categories: ["rwa", "marine"], type: "com", tier: "premium", description: "Maritime/shipping", keywords: ["rwa", "marine", "shipping"], lto: true },
    { name: "MetalRWA.io", price: 8995, currency: "USD", categories: ["rwa", "commodities"], type: "io", tier: "premium", description: "Metals tokenization", keywords: ["metal", "rwa", "commodities"], lto: true },
    { name: "nuclearrwa.com", price: 9995, currency: "USD", categories: ["rwa", "energy"], type: "com", tier: "premium", description: "Energy assets", keywords: ["nuclear", "rwa", "energy"], lto: true },
    { name: "factoryrwa.com", price: 8995, currency: "USD", categories: ["rwa", "industrial"], type: "com", tier: "premium", description: "Industrial assets", keywords: ["factory", "rwa", "industrial"], lto: true },
    { name: "shippingrwa.com", price: 8995, currency: "USD", categories: ["rwa", "logistics"], type: "com", tier: "premium", description: "Logistics", keywords: ["shipping", "rwa", "logistics"], lto: true },
    { name: "technologyrwa.com", price: 8995, currency: "USD", categories: ["rwa", "tech"], type: "com", tier: "premium", description: "Tech IP", keywords: ["technology", "rwa", "ip"], lto: true },
    { name: "UraniumRWA.com", price: 7995, currency: "USD", categories: ["rwa", "commodities"], type: "com", tier: "premium", description: "Nuclear energy", keywords: ["uranium", "rwa", "nuclear"], lto: true },
    { name: "MunichRWA.com", price: 7995, currency: "USD", categories: ["rwa", "geographic"], type: "com", tier: "premium", description: "German assets", keywords: ["munich", "rwa", "germany"], lto: true },
    { name: "GenevaRWA.com", price: 7995, currency: "USD", categories: ["rwa", "geographic"], type: "com", tier: "premium", description: "Swiss banking", keywords: ["geneva", "rwa", "switzerland"], lto: true },
    { name: "KualaLumpurRWA.com", price: 7995, currency: "USD", categories: ["rwa", "geographic"], type: "com", tier: "premium", description: "Malaysia", keywords: ["kuala lumpur", "rwa", "malaysia"], lto: true },
    { name: "CaliforniaRWA.com", price: 7995, currency: "USD", categories: ["rwa", "geographic"], type: "com", tier: "premium", description: "Major state", keywords: ["california", "rwa", "real estate"], lto: true },
    { name: "RealWorldMint.com", price: 7995, currency: "USD", categories: ["rwa", "minting"], type: "com", tier: "premium", description: "RWA minting", keywords: ["real world", "mint", "rwa"], lto: true },
    { name: "WorldOnchain.io", price: 7995, currency: "USD", categories: ["rwa", "onchain"], type: "io", tier: "premium", description: "Global positioning", keywords: ["world", "onchain", "blockchain"], lto: true },
    
    // ============= SMART GLASSES & AR/VR =============
    { name: "ARVRExpo.com", price: 12995, currency: "USD", categories: ["smartglasses", "ar", "vr"], type: "com", tier: "premium", description: "AR/VR expo - perfect timing!", keywords: ["ar", "vr", "expo", "conference"], lto: true },
    { name: "TekSpex.com", price: 8995, currency: "USD", categories: ["smartglasses"], type: "com", tier: "premium", description: "Smart glasses tech", keywords: ["tech", "specs", "glasses"], lto: true },
    { name: "ARSpex.com", price: 6995, currency: "USD", categories: ["smartglasses", "ar"], type: "com", tier: "premium", description: "AR glasses market", keywords: ["ar", "specs", "glasses"], lto: true },
    { name: "AugVis.com", price: 6995, currency: "USD", categories: ["smartglasses", "ar"], type: "com", tier: "premium", description: "Augmented vision", keywords: ["augmented", "vision", "ar"], lto: true },
    { name: "EyeGates.com", price: 6495, currency: "USD", categories: ["smartglasses"], type: "com", tier: "premium", description: "Eye tech gateway", keywords: ["eye", "gates", "vision"], lto: true },
    { name: "RetinaGate.com", price: 5995, currency: "USD", categories: ["smartglasses"], type: "com", tier: "premium", description: "Retina technology", keywords: ["retina", "gate", "vision"], lto: true },
    { name: "VisScan.com", price: 5995, currency: "USD", categories: ["smartglasses"], type: "com", tier: "premium", description: "Vision scanning", keywords: ["vis", "scan", "vision"], lto: true },
    { name: "OpticRealms.com", price: 5495, currency: "USD", categories: ["smartglasses", "vr"], type: "com", tier: "premium", description: "VR optics", keywords: ["optic", "realms", "vr"], lto: true },
    { name: "smarthuds.com", price: 4995, currency: "USD", categories: ["smartglasses", "hud"], type: "com", tier: "mid", description: "Smart HUD displays", keywords: ["smart", "hud", "displays"], lto: true },
    { name: "hudspecs.com", price: 4995, currency: "USD", categories: ["smartglasses", "hud"], type: "com", tier: "mid", description: "HUD smart glasses", keywords: ["hud", "specs", "glasses"], lto: true },
    { name: "HoloScream.com", price: 5495, currency: "USD", categories: ["smartglasses", "holographic"], type: "com", tier: "mid", description: "Holographic entertainment", keywords: ["holo", "scream", "entertainment"], lto: true },
    { name: "HoloSymphonic.com", price: 5495, currency: "USD", categories: ["smartglasses", "holographic"], type: "com", tier: "mid", description: "Holographic music", keywords: ["holo", "symphonic", "music"], lto: true },
    { name: "iotwidget.com", price: 4995, currency: "USD", categories: ["smartglasses", "iot"], type: "com", tier: "mid", description: "IoT applications", keywords: ["iot", "widget", "applications"], lto: true },
    { name: "defiwidget.com", price: 4995, currency: "USD", categories: ["smartglasses", "defi"], type: "com", tier: "mid", description: "DeFi tools", keywords: ["defi", "widget", "tools"], lto: true },
    { name: "vrwidget.com", price: 4495, currency: "USD", categories: ["smartglasses", "vr"], type: "com", tier: "mid", description: "VR applications", keywords: ["vr", "widget", "applications"], lto: true },
    { name: "arvrwidget.com", price: 3995, currency: "USD", categories: ["smartglasses", "ar", "vr"], type: "com", tier: "mid", description: "AR/VR widgets", keywords: ["ar", "vr", "widget"], lto: true },
    { name: "EyeChi.com", price: 4295, currency: "USD", categories: ["smartglasses", "wellness"], type: "com", tier: "mid", description: "Eye wellness tech", keywords: ["eye", "chi", "wellness"], lto: true },
    
    // ============= PRIVACY CRYPTO - Monero .xmr =============
    { name: "privatecoin.xmr", price: 3000, currency: "USD", categories: ["privacy", "crypto", "monero"], type: "web3", tier: "premium", description: "BEST .xmr domain!", keywords: ["private", "coin", "monero"], lto: false },
    { name: "sendmonero.xmr", price: 2500, currency: "USD", categories: ["privacy", "crypto", "monero"], type: "web3", tier: "premium", description: "Payment action", keywords: ["send", "monero", "payment"], lto: false },
    { name: "sendxmr.xmr", price: 2500, currency: "USD", categories: ["privacy", "crypto", "monero"], type: "web3", tier: "premium", description: "Send XMR", keywords: ["send", "xmr", "monero"], lto: false },
    { name: "wiremonero.xmr", price: 2500, currency: "USD", categories: ["privacy", "crypto", "monero"], type: "web3", tier: "premium", description: "Wire Monero", keywords: ["wire", "monero", "payment"], lto: false },
    { name: "untrackable.xmr", price: 2500, currency: "USD", categories: ["privacy", "crypto", "monero"], type: "web3", tier: "premium", description: "Core value", keywords: ["untrackable", "privacy", "monero"], lto: false },
    { name: "nontraceable.xmr", price: 2500, currency: "USD", categories: ["privacy", "crypto", "monero"], type: "web3", tier: "premium", description: "Monero essence", keywords: ["nontraceable", "privacy", "monero"], lto: false },
    { name: "privatetoken.xmr", price: 2500, currency: "USD", categories: ["privacy", "crypto", "monero"], type: "web3", tier: "premium", description: "Private token", keywords: ["private", "token", "monero"], lto: false },
    { name: "privatecash.xmr", price: 2500, currency: "USD", categories: ["privacy", "crypto", "monero"], type: "web3", tier: "premium", description: "Private cash", keywords: ["private", "cash", "monero"], lto: false },
    { name: "privatemoney.xmr", price: 2500, currency: "USD", categories: ["privacy", "crypto", "monero"], type: "web3", tier: "premium", description: "Private money", keywords: ["private", "money", "monero"], lto: false },
    { name: "privacytoken.xmr", price: 2500, currency: "USD", categories: ["privacy", "crypto", "monero"], type: "web3", tier: "premium", description: "Privacy token", keywords: ["privacy", "token", "monero"], lto: false },
    { name: "privatesend.xmr", price: 2500, currency: "USD", categories: ["privacy", "crypto", "monero"], type: "web3", tier: "premium", description: "Monero feature!", keywords: ["private", "send", "monero"], lto: false },
    { name: "securemoney.xmr", price: 2000, currency: "USD", categories: ["privacy", "crypto", "monero"], type: "web3", tier: "mid", description: "Secure money", keywords: ["secure", "money", "monero"], lto: false },
    { name: "wirexmr.xmr", price: 2000, currency: "USD", categories: ["privacy", "crypto", "monero"], type: "web3", tier: "mid", description: "Wire XMR", keywords: ["wire", "xmr", "monero"], lto: false },
    { name: "sendcrypto.xmr", price: 2000, currency: "USD", categories: ["privacy", "crypto", "monero"], type: "web3", tier: "mid", description: "Send crypto", keywords: ["send", "crypto", "payment"], lto: false },
    
    // ============= AI AGENTS =============
    { name: "supermind.agi", price: 5000, currency: "USD", categories: ["ai", "agi"], type: "web3", tier: "premium", description: "Ultimate AI intelligence!", keywords: ["super", "mind", "agi"], lto: false },
    { name: "supermind.agent", price: 3000, currency: "USD", categories: ["ai", "agent"], type: "web3", tier: "premium", description: "AI agent brand", keywords: ["super", "mind", "agent"], lto: false },
    { name: "k9.agi", price: 2500, currency: "USD", categories: ["ai", "agi"], type: "web3", tier: "premium", description: "K9 robot dog!", keywords: ["k9", "robot", "dog"], lto: false },
    { name: "alfred.agi", price: 2500, currency: "USD", categories: ["ai", "agi"], type: "web3", tier: "premium", description: "Batman's AI butler", keywords: ["alfred", "butler", "ai"], lto: false },
    { name: "innovator.agent", price: 2500, currency: "USD", categories: ["ai", "agent"], type: "web3", tier: "premium", description: "Innovation agent", keywords: ["innovator", "agent", "ai"], lto: false },
    { name: "k2.agi", price: 2000, currency: "USD", categories: ["ai", "agi"], type: "web3", tier: "mid", description: "Mountain metaphor", keywords: ["k2", "mountain", "agi"], lto: false },
    { name: "magi.agi", price: 2000, currency: "USD", categories: ["ai", "agi"], type: "web3", tier: "mid", description: "Wise AI", keywords: ["magi", "wise", "agi"], lto: false },
    { name: "phobos.agi", price: 1800, currency: "USD", categories: ["ai", "agi"], type: "web3", tier: "mid", description: "Mars moon", keywords: ["phobos", "mars", "agi"], lto: false },
    { name: "rowan.agi", price: 1500, currency: "USD", categories: ["ai", "agi"], type: "web3", tier: "mid", description: "Nature name", keywords: ["rowan", "nature", "agi"], lto: false },
    { name: "askrobot.agent", price: 1500, currency: "USD", categories: ["ai", "agent"], type: "web3", tier: "mid", description: "Ask robot agent", keywords: ["ask", "robot", "agent"], lto: false },
    { name: "asktitan.agent", price: 1500, currency: "USD", categories: ["ai", "agent"], type: "web3", tier: "mid", description: "Ask titan agent", keywords: ["ask", "titan", "agent"], lto: false },
    { name: "asksynth.agent", price: 1500, currency: "USD", categories: ["ai", "agent"], type: "web3", tier: "mid", description: "Ask synth agent", keywords: ["ask", "synth", "agent"], lto: false },
    { name: "graywolf.agent", price: 1500, currency: "USD", categories: ["ai", "agent"], type: "web3", tier: "mid", description: "Codename style", keywords: ["gray", "wolf", "agent"], lto: false },
    { name: "grizzly.agent", price: 1500, currency: "USD", categories: ["ai", "agent"], type: "web3", tier: "mid", description: "Power agent", keywords: ["grizzly", "power", "agent"], lto: false },
    { name: "wildcat.agent", price: 1500, currency: "USD", categories: ["ai", "agent"], type: "web3", tier: "mid", description: "Wild agent", keywords: ["wild", "cat", "agent"], lto: false },
    
    // ============= PETS & FASHION =============
    { name: "weardogs.com", price: 5995, currency: "USD", categories: ["pets", "fashion"], type: "com", tier: "premium", description: "Dog apparel/fashion!", keywords: ["wear", "dogs", "fashion", "apparel"], lto: true },
    { name: "wearcats.com", price: 5995, currency: "USD", categories: ["pets", "fashion"], type: "com", tier: "premium", description: "Cat fashion", keywords: ["wear", "cats", "fashion"], lto: true },
    { name: "Dogs.pw", price: 10995, currency: "USD", categories: ["pets"], type: "pw", tier: "premium", description: "Premium short domain!", keywords: ["dogs", "pets"], lto: true },
    
    // ============= FOOD & CULINARY =============
    { name: "TeaAffinity.com", price: 5888, currency: "USD", categories: ["food", "tea"], type: "com", tier: "premium", description: "Tea enthusiasts!", keywords: ["tea", "affinity", "enthusiast"], lto: true },
    { name: "AFineTea.com", price: 5888, currency: "USD", categories: ["food", "tea"], type: "com", tier: "premium", description: "Premium tea brand", keywords: ["fine", "tea", "premium"], lto: true },
    { name: "autonochef.com", price: 6995, currency: "USD", categories: ["food", "ai"], type: "com", tier: "premium", description: "Automated cooking/AI chef!", keywords: ["autonomous", "chef", "cooking"], lto: true },
    { name: "EliteBaristas.com", price: 4995, currency: "USD", categories: ["food", "coffee"], type: "com", tier: "premium", description: "Coffee professionals", keywords: ["elite", "barista", "coffee"], lto: true },
    { name: "realdealmeat.com", price: 2995, currency: "USD", categories: ["food"], type: "com", tier: "mid", description: "Authentic meat products", keywords: ["real", "deal", "meat"], lto: true },
    
    // ============= SKINCARE =============
    { name: "qiropody.com", price: 4995, currency: "USD", categories: ["skincare", "medical"], type: "com", tier: "premium", description: "Podiatry/foot care", keywords: ["podiatry", "foot", "care"], lto: true },
    { name: "kskingirl.com", price: 2995, currency: "USD", categories: ["skincare", "beauty"], type: "com", tier: "mid", description: "Female skincare market", keywords: ["skin", "girl", "beauty"], lto: true },
    { name: "kskingurus.com", price: 2995, currency: "USD", categories: ["skincare", "beauty"], type: "com", tier: "mid", description: "Expert positioning", keywords: ["skin", "gurus", "expert"], lto: true },
    { name: "kskinmagic.com", price: 2995, currency: "USD", categories: ["skincare", "beauty"], type: "com", tier: "mid", description: "Transformation brand", keywords: ["skin", "magic", "transformation"], lto: true },
    { name: "kskinprime.com", price: 2995, currency: "USD", categories: ["skincare", "beauty"], type: "com", tier: "mid", description: "Premium segment", keywords: ["skin", "prime", "premium"], lto: true },
    { name: "kskinteam.com", price: 2995, currency: "USD", categories: ["skincare", "beauty"], type: "com", tier: "mid", description: "Professional services", keywords: ["skin", "team", "professional"], lto: true },
    { name: "kskinworld.com", price: 2995, currency: "USD", categories: ["skincare", "beauty"], type: "com", tier: "mid", description: "Global brand", keywords: ["skin", "world", "global"], lto: true },
    { name: "kskinpros.com", price: 2495, currency: "USD", categories: ["skincare", "professional"], type: "com", tier: "mid", description: "Professional line", keywords: ["skin", "professional", "beauty"], lto: true },
    { name: "kskinsecrets.com", price: 1995, currency: "USD", categories: ["skincare", "beauty"], type: "com", tier: "affordable", description: "Insider knowledge", keywords: ["skin", "secrets", "beauty"], lto: true },
    
    // ============= BRANDABLES =============
    { name: "Puralyx.com", price: 2995, currency: "USD", categories: ["brandable", "premium"], type: "com", tier: "mid", description: "Modern tech brand - pure luxury", keywords: ["brandable", "premium", "modern"], lto: true },
    { name: "Robrium.com", price: 2995, currency: "USD", categories: ["brandable", "tech"], type: "com", tier: "mid", description: "Tech/SaaS brandable", keywords: ["brandable", "tech", "saas"], lto: true },
    { name: "Cyrilux.com", price: 2995, currency: "USD", categories: ["brandable", "premium"], type: "com", tier: "mid", description: "Elegant brandable name", keywords: ["brandable", "elegant", "premium"], lto: true },
    { name: "Phytara.com", price: 2995, currency: "USD", categories: ["brandable", "biotech"], type: "com", tier: "mid", description: "Biotech/wellness - plant-based", keywords: ["brandable", "biotech", "wellness"], lto: true },
    { name: "Wyvara.com", price: 2995, currency: "USD", categories: ["brandable", "premium"], type: "com", tier: "mid", description: "Unique brandable name", keywords: ["brandable", "unique", "premium"], lto: true },
    { name: "TwoTalon.com", price: 2995, currency: "USD", categories: ["brandable", "unique"], type: "com", tier: "mid", description: "Memorable brandable - strong imagery", keywords: ["brandable", "talon", "memorable"], lto: true },
    { name: "HeadPoise.com", price: 5995, currency: "USD", categories: ["brandable", "wellness"], type: "com", tier: "premium", description: "Wellness/meditation - balance & mindfulness", keywords: ["wellness", "meditation", "balance"], lto: true },
    
    // ============= RETRO/NOSTALGIA =============
    { name: "ClassicAnalog.com", price: 6995, currency: "USD", categories: ["retro", "nostalgia"], type: "com", tier: "premium", description: "Vinyl, film, analog tech!", keywords: ["classic", "analog", "vintage"], lto: true },
    { name: "OfflineEra.com", price: 5995, currency: "USD", categories: ["retro", "nostalgia"], type: "com", tier: "premium", description: "Pre-digital nostalgia", keywords: ["offline", "nostalgia", "vintage"], lto: true },
    { name: "TangibleTimes.com", price: 5495, currency: "USD", categories: ["retro", "nostalgia"], type: "com", tier: "premium", description: "Physical media, real experiences", keywords: ["tangible", "physical", "vintage"], lto: true },
    { name: "RetroImprint.com", price: 4995, currency: "USD", categories: ["retro", "nostalgia"], type: "com", tier: "mid", description: "Vintage branding & design", keywords: ["retro", "imprint", "vintage"], lto: true },
    
    // ============= CRYPTO/DEFI =============
    { name: "DefiDingo.com", price: 4995, currency: "USD", categories: ["crypto", "defi"], type: "com", tier: "premium", description: "Aussie DeFi brand", keywords: ["defi", "dingo", "crypto"], lto: true },
    { name: "WireCoin.net", price: 4995, currency: "USD", categories: ["crypto"], type: "net", tier: "premium", description: "Wire transfers/crypto", keywords: ["wire", "coin", "crypto"], lto: true },
    { name: "defifinancial.xyz", price: 4995, currency: "USD", categories: ["crypto", "defi"], type: "xyz", tier: "premium", description: "DeFi finance", keywords: ["defi", "financial", "finance"], lto: true },
    { name: "CryptoDraken.com", price: 3995, currency: "USD", categories: ["crypto", "defi"], type: "com", tier: "mid", description: "Crypto dragon brand!", keywords: ["crypto", "draken", "dragon"], lto: true },
    { name: "DefiDraken.com", price: 3995, currency: "USD", categories: ["crypto", "defi"], type: "com", tier: "mid", description: "DeFi dragon", keywords: ["defi", "draken", "dragon"], lto: true },
    { name: "DefiCitadel.com", price: 3995, currency: "USD", categories: ["crypto", "defi"], type: "com", tier: "mid", description: "DeFi fortress", keywords: ["defi", "citadel", "fortress"], lto: true },
    { name: "cryptochihuahua.com", price: 3995, currency: "USD", categories: ["crypto", "meme"], type: "com", tier: "mid", description: "Meme coin potential!", keywords: ["crypto", "chihuahua", "meme"], lto: true },
    { name: "cryptotomcat.com", price: 3995, currency: "USD", categories: ["crypto", "meme"], type: "com", tier: "mid", description: "Cat crypto", keywords: ["crypto", "tomcat", "meme"], lto: true },
    { name: "cryptoyakuza.com", price: 3995, currency: "USD", categories: ["crypto"], type: "com", tier: "mid", description: "Edgy brand", keywords: ["crypto", "yakuza", "edgy"], lto: true },
    { name: "koinalysis.com", price: 3995, currency: "USD", categories: ["crypto", "analysis"], type: "com", tier: "mid", description: "Coin analysis", keywords: ["coin", "analysis", "crypto"], lto: true },
    { name: "ledgerstick.com", price: 3995, currency: "USD", categories: ["crypto", "hardware"], type: "com", tier: "mid", description: "Hardware wallet", keywords: ["ledger", "stick", "hardware"], lto: true },
    { name: "kointheory.com", price: 3495, currency: "USD", categories: ["crypto", "theory"], type: "com", tier: "mid", description: "Crypto theory", keywords: ["coin", "theory", "crypto"], lto: true },
    { name: "CoinTheory.xyz", price: 2495, currency: "USD", categories: ["crypto", "theory"], type: "xyz", tier: "affordable", description: "Theory brand", keywords: ["coin", "theory", "crypto"], lto: true },
    
    // ============= ONCHAIN/WEB3 =============
    { name: "RealWorldMint.com", price: 5995, currency: "USD", categories: ["onchain", "rwa"], type: "com", tier: "premium", description: "RWA minting!", keywords: ["real world", "mint", "rwa"], lto: true },
    { name: "WorldOnchain.io", price: 5995, currency: "USD", categories: ["onchain", "web3"], type: "io", tier: "premium", description: "Global blockchain", keywords: ["world", "onchain", "blockchain"], lto: true },
    { name: "realmsync.com", price: 5495, currency: "USD", categories: ["onchain", "web3"], type: "com", tier: "premium", description: "Realm synchronization", keywords: ["realm", "sync", "blockchain"], lto: true },
    { name: "realmmesh.com", price: 5495, currency: "USD", categories: ["onchain", "web3"], type: "com", tier: "premium", description: "Interconnected realms", keywords: ["realm", "mesh", "network"], lto: true },
    { name: "onchainpromo.com", price: 4995, currency: "USD", categories: ["onchain", "marketing"], type: "com", tier: "mid", description: "Blockchain marketing", keywords: ["onchain", "promo", "marketing"], lto: true },
    { name: "onchainrealms.com", price: 4995, currency: "USD", categories: ["onchain", "web3"], type: "com", tier: "mid", description: "Digital worlds", keywords: ["onchain", "realms", "digital"], lto: true },
    { name: "onchaintheater.com", price: 4995, currency: "USD", categories: ["onchain", "entertainment"], type: "com", tier: "mid", description: "NFT entertainment", keywords: ["onchain", "theater", "entertainment"], lto: true },
    { name: "physicalrealms.com", price: 3995, currency: "USD", categories: ["onchain", "physical"], type: "com", tier: "mid", description: "Physical/digital bridge", keywords: ["physical", "realms", "bridge"], lto: true },
    { name: "realmsconchain.com", price: 3995, currency: "USD", categories: ["onchain", "web3"], type: "com", tier: "mid", description: "Blockchain realms", keywords: ["realms", "onchain", "blockchain"], lto: true },
    { name: "onchaingigs.com", price: 3495, currency: "USD", categories: ["onchain", "jobs"], type: "com", tier: "mid", description: "Blockchain jobs", keywords: ["onchain", "gigs", "jobs"], lto: true },
    { name: "onchainprint.com", price: 2995, currency: "USD", categories: ["onchain"], type: "com", tier: "mid", description: "Blockchain printing/NFTs", keywords: ["onchain", "print", "nft"], lto: true },
    
    // ============= BRANDING/MARKETING =============
    { name: "BrandBrit.com", price: 5995, currency: "USD", categories: ["branding", "marketing"], type: "com", tier: "premium", description: "British branding!", keywords: ["brand", "british", "marketing"], lto: true },
    { name: "brandgrowl.com", price: 4995, currency: "USD", categories: ["branding"], type: "com", tier: "mid", description: "Fierce brand voice", keywords: ["brand", "growl", "fierce"], lto: true },
    { name: "brandpurr.com", price: 4995, currency: "USD", categories: ["branding"], type: "com", tier: "mid", description: "Smooth branding", keywords: ["brand", "purr", "smooth"], lto: true },
    { name: "domainhounds.com", price: 4995, currency: "USD", categories: ["branding", "domains"], type: "com", tier: "mid", description: "Domain specialists", keywords: ["domain", "hounds", "specialists"], lto: true },
    { name: "drakenagent.com", price: 3995, currency: "USD", categories: ["branding", "agency"], type: "com", tier: "mid", description: "Agent/agency brand", keywords: ["draken", "agent", "agency"], lto: true },
    { name: "brandmagpie.com", price: 3495, currency: "USD", categories: ["branding"], type: "com", tier: "mid", description: "Collector brand", keywords: ["brand", "magpie", "collector"], lto: true },
    { name: "brandwildcat.com", price: 3499, currency: "USD", categories: ["branding"], type: "com", tier: "mid", description: "Untamed branding", keywords: ["brand", "wildcat", "untamed"], lto: true }
];

// ============================================================================
// LAYER 1: SEARCH & HELPER FUNCTIONS
// ============================================================================

// Search domains with filtering and sorting
// Get Domain of the Day (rotates daily)
function getDomainOfTheDay() {
    const today = new Date();
    const startOfYear = new Date(today.getFullYear(), 0, 0);
    const diff = today - startOfYear;
    const oneDay = 1000 * 60 * 60 * 24;
    const dayOfYear = Math.floor(diff / oneDay);
    
    // Use day of year to pick a domain (ensures same domain all day)
    const index = dayOfYear % DOMAIN_DB.length;
    return DOMAIN_DB[index];
}

function searchDomains(filters = {}) {
    let results = [...DOMAIN_DB];
    
    // Filter by categories (AND logic - match ALL categories)
    if (filters.categories && filters.categories.length > 0) {
        results = results.filter(domain => 
            filters.categories.every(cat => domain.categories.includes(cat))
        );
    }
    
    // Filter by price range
    if (filters.maxPrice) {
        results = results.filter(domain => {
            const priceUSD = domain.currency === "GBP" ? domain.price * 1.27 : domain.price;
            return priceUSD <= filters.maxPrice;
        });
    }
    
    if (filters.minPrice) {
        results = results.filter(domain => {
            const priceUSD = domain.currency === "GBP" ? domain.price * 1.27 : domain.price;
            return priceUSD >= filters.minPrice;
        });
    }
    
    // Filter by domain name (partial match)
    if (filters.domainName) {
        const searchTerm = filters.domainName.toLowerCase();
        results = results.filter(domain => 
            domain.name.toLowerCase().includes(searchTerm)
        );
    }
    
    // Filter by tier
    if (filters.tier) {
        results = results.filter(domain => domain.tier === filters.tier);
    }
    
    // Filter by type
    if (filters.type) {
        results = results.filter(domain => domain.type === filters.type);
    }
    
    // Filter by keywords
    if (filters.keywords && filters.keywords.length > 0) {
        results = results.filter(domain =>
            filters.keywords.some(kw => 
                domain.keywords.some(dk => dk.includes(kw.toLowerCase()))
            )
        );
    }
    
    // Sort results
    if (filters.sortBy === 'price-asc') {
        results.sort((a, b) => {
            const priceA = a.currency === "GBP" ? a.price * 1.27 : a.price;
            const priceB = b.currency === "GBP" ? b.price * 1.27 : b.price;
            return priceA - priceB;
        });
    } else if (filters.sortBy === 'price-desc') {
        results.sort((a, b) => {
            const priceA = a.currency === "GBP" ? a.price * 1.27 : a.price;
            const priceB = b.currency === "GBP" ? b.price * 1.27 : b.price;
            return priceB - priceA;
        });
    } else {
        // Default: sort by tier priority, then price desc
        const tierOrder = { 'crown-jewel': 0, 'premium': 1, 'mid': 2, 'affordable': 3 };
        results.sort((a, b) => {
            const tierDiff = tierOrder[a.tier] - tierOrder[b.tier];
            if (tierDiff !== 0) return tierDiff;
            const priceA = a.currency === "GBP" ? a.price * 1.27 : a.price;
            const priceB = b.currency === "GBP" ? b.price * 1.27 : b.price;
            return priceB - priceA;
        });
    }
    
    return results;
}

// Helper: Group domains by tier
function groupByTier(domains) {
    const groups = {
        'crown-jewel': [],
        'premium': [],
        'mid': [],
        'affordable': []
    };
    domains.forEach(domain => {
        if (groups[domain.tier]) {
            groups[domain.tier].push(domain);
        }
    });
    return groups;
}

// Helper: Get cheapest domain in results
function getCheapest(domains) {
    if (domains.length === 0) return null;
    return domains.reduce((min, domain) => {
        const priceUSD = domain.currency === "GBP" ? domain.price * 1.27 : domain.price;
        const minPriceUSD = min.currency === "GBP" ? min.price * 1.27 : min.price;
        return priceUSD < minPriceUSD ? domain : min;
    });
}

// Helper: Get most expensive domain in results
function getMostExpensive(domains) {
    if (domains.length === 0) return null;
    return domains.reduce((max, domain) => {
        const priceUSD = domain.currency === "GBP" ? domain.price * 1.27 : domain.price;
        const maxPriceUSD = max.currency === "GBP" ? max.price * 1.27 : max.price;
        return priceUSD > maxPriceUSD ? domain : max;
    });
}

// Helper: Format price for display
function formatPrice(domain) {
    if (domain.currency === "GBP") {
        return `¬£${domain.price.toLocaleString()}`;
    } else {
        return `$${domain.price.toLocaleString()}`;
    }
}

// Helper: Convert price to USD
function getPriceUSD(domain) {
    return domain.currency === "GBP" ? domain.price * 1.27 : domain.price;
}

// ============================================================================
// LAYER 2: QUERY UNDERSTANDING
// ============================================================================

// Intent classification with scoring
function classifyQuery(message) {
    const lower = message.toLowerCase();
    const scores = {
        greet: 0,
        thanks: 0,
        browse: 0,
        price: 0,
        compare: 0,
        buy: 0,
        learn: 0,
        consult: 0,
        check: 0,
        offTopic: 0
    };
    
    // GREET patterns
    if (/^(hi|hey|hello|howdy|good morning|afternoon|evening|what's up|whats up|sup)/.test(lower)) {
        scores.greet = 98;
    }
    
    // THANKS patterns
    if (/\b(thanks|thank you|thankyou|cheers|ta|bye|goodbye|see you|later)\b/.test(lower)) {
        scores.thanks = 99;
    }
    
    // BROWSE patterns
    if (/\b(show me|what .+ do you have|browse|list|see|view|tell me about|do you have)\b/.test(lower)) {
        scores.browse = 98;
    }
    if (/\b(domains?|collection|portfolio)\b/.test(lower)) {
        scores.browse += 20;
    }
    
    // PRICE patterns
    if (/\b(how much|price|cost|cheap|expensive|under|over|less than|more than|cheapest|most affordable|most expensive|highest|priciest|between)\b/.test(lower)) {
        scores.price = 97;
    }
    if (/\b(cheapest|most affordable|budget|most expensive|highest price|priciest)\b/.test(lower)) {
        scores.price += 25;  // Boost to beat BROWSE (118)
    }
    
    // COMPARE patterns
    if (/\b(compare|versus|vs|difference between)\b/.test(lower)) {
        scores.compare = 98;
    }
    
    // BUY patterns (including payment/financing queries)
    if (/\b(buy|purchase|register|i want|interested in|how do i get|payment plans?|installments?|lease to own|lto|afford|financing|pay monthly|can i pay)\b/.test(lower)) {
        scores.buy = 98;
    }
    
    // LEARN patterns (expanded for TLD, Web3, and domain investment education)
    if ((/\b(what is|explain|how does|how do i|tell me about|understand|teach me|learn about|learning)\b/.test(lower) && 
        /\b(web ?3|blockchain|tld|domains?|nft|top level domain)\b/.test(lower)) ||
        /\b(what's a tld|whats a tld|what is tld|explain tld)\b/.test(lower) ||
        /\b(good domain|domain investment|invest in domain|domain value|evaluate domain|choose a domain|domain worth|what makes.*domain)\b/.test(lower) ||
        (/\b(branding|brand|domain name|my domain)\b/.test(lower) && /\b(important|why|value|matter|does.*matter)\b/.test(lower)) ||
        /\b(amr|autonomous mobile robot|warehouse robot)\b/.test(lower) ||
        /\b(rwa|real world asset|tokenization|tokenize)\b/.test(lower)) {
        scores.learn = 105;  // Higher than BROWSE (98) to win when there's overlap
    }
    
    // Special case: TLD comparison questions should be educational, not domain comparisons
    if (/\b(difference between|compare)\b/.test(lower) && /\.(com|net|org|filipino|aviator|agi|agent|xmr)/i.test(lower)) {
        scores.learn = 105;  // Higher than COMPARE (98) to win
    }
    
    // CONSULT patterns
    if (/\b(best domain for|recommend|suggest|good for|should i)\b/.test(lower)) {
        scores.consult = 73;
    }
    
    // CHECK patterns (only for specific domain availability checks)
    if (/\b(available|is .+ available)\b/.test(lower) || 
        (/\b(do you have)\b/.test(lower) && /\b[a-z0-9-]+\.(com|net|org|io|ai|agi|agent|aviator|filipino|xmr|pw|xyz)\b/.test(lower))) {
        scores.check = 85;
    }
    
    // OFF-TOPIC patterns (expanded detection)
    if ((/\b(weather|temperature|forecast|rain|sunny|cloudy)\b/.test(lower) ||
         /\b(recipe|cook|bake|ingredient|oven)\b/.test(lower) ||
         /\b(movie|film|show|netflix|watch)\b/.test(lower) ||
         /\b(restaurant|food place|where to eat)\b/.test(lower) ||
         /\b(health|medical|symptom|disease)\b/.test(lower) ||
         /\b(workout|exercise|gym|fitness)\b/.test(lower) ||
         /\b(translate|capital of|solve|calculate|math)\b/.test(lower) ||
         /\b(sport|game|won|championship|super bowl|world cup|olympics)\b/.test(lower) ||
         /\b(news|election|president|politics)\b/.test(lower)) && 
        !/\b(domain|web|site|tld)\b/.test(lower)) {
        scores.offTopic = 95; // High confidence for off-topic
    }
    
    // Find highest scoring intent
    let topIntent = 'browse';
    let topScore = 0;
    for (const [intent, score] of Object.entries(scores)) {
        if (score > topScore) {
            topScore = score;
            topIntent = intent;
        }
    }
    
    return { intent: topIntent, confidence: topScore, allScores: scores };
}

// Extract entities from message
function extractEntities(message) {
    const lower = message.toLowerCase();
    const entities = {
        categories: [],
        priceLimit: null,
        minPrice: null,
        domainNames: [],
        occupation: null,
        wantsCheapest: false,
        wantsMostExpensive: false,
        tier: null,
        type: null
    };
    
    // Category synonyms
    const categoryMap = {
        aviation: ['aviation', 'flight', 'flying', 'pilot', 'aircraft', 'airplane', 'drone'],
        filipino: ['filipino', 'pinoy', 'balikbayan', 'philippines', 'manila'],
        robotics: ['robot', 'robotics', 'amr', 'autonomous', 'automation'],
        rwa: ['rwa', 'real world asset', 'tokenization', 'tokenize'],
        smartglasses: ['smart glass', 'ar glass', 'vr', 'augmented', 'hud'],
        privacy: ['privacy', 'monero', 'xmr', 'private'],
        ai: ['ai', 'agent', 'agi', 'artificial intelligence'],
        pets: ['pet', 'dog', 'cat', 'animal'],
        food: ['food', 'tea', 'coffee', 'culinary', 'chef'],
        skincare: ['skincare', 'beauty', 'cosmetic'],
        brandable: ['brandable', 'brand name', 'invented name'],
        retro: ['retro', 'vintage', 'nostalgia', 'analog'],
        crypto: ['crypto', 'defi', 'blockchain', 'bitcoin']
    };
    
    // Extract categories (with word boundaries to prevent substring matches)
    for (const [category, synonyms] of Object.entries(categoryMap)) {
        for (const syn of synonyms) {
            // Use word boundaries for short words like 'ai' to prevent matching inside other words
            const pattern = syn.length <= 3 ? new RegExp(`\\b${syn}\\b`, 'i') : new RegExp(syn, 'i');
            if (pattern.test(lower)) {
                entities.categories.push(category);
                break; // Only add category once
            }
        }
    }
    
    // Extract tier (crown jewel, premium, etc.)
    if (/\b(crown jewel|crown-jewel|top tier|flagship)\b/.test(lower)) {
        entities.tier = 'crown-jewel';
    } else if (/\b(premium|high-end|luxury)\b/.test(lower)) {
        entities.tier = 'premium';
    }
    
    // Extract type (web3, .com, etc.)
    if (/\b(web3|web 3|blockchain|on-chain|onchain)\b/.test(lower)) {
        entities.type = 'web3';
    } else if (/\b(\.com|dot com|premium com)\b/.test(lower)) {
        entities.type = 'com';
    }
    
    // Extract price range (between X and Y, or from X to Y)
    const rangeMatch = lower.match(/(?:between|from)\s*\$?([0-9,]+)\s*(?:and|to|-)\s*\$?([0-9,]+)/);
    if (rangeMatch) {
        const price1 = parseInt(rangeMatch[1].replace(/,/g, ''));
        const price2 = parseInt(rangeMatch[2].replace(/,/g, ''));
        entities.minPrice = Math.min(price1, price2);
        entities.priceLimit = Math.max(price1, price2);
    } else {
        // Extract single price limit (under/less than/below)
        const priceMatch = lower.match(/(under|less than|below|cheaper than|max|maximum)\s*\$?([0-9,]+)/);
        if (priceMatch) {
            entities.priceLimit = parseInt(priceMatch[2].replace(/,/g, ''));
        }
        
        // Extract minimum price (over/above/more than)
        const minPriceMatch = lower.match(/(over|above|more than|minimum|min)\s*\$?([0-9,]+)/);
        if (minPriceMatch) {
            entities.minPrice = parseInt(minPriceMatch[2].replace(/,/g, ''));
        }
    }
    
    // Extract domain names
    const domainPattern = /\b([a-z0-9][-a-z0-9]*\.[a-z]{2,})\b/gi;
    const domains = message.match(domainPattern);
    if (domains) {
        entities.domainNames = domains.map(d => d.toLowerCase());
    }
    
    // Extract occupation
    const occupations = {
        nurse: 'medical',
        doctor: 'medical',
        surgeon: 'medical',
        pilot: 'aviation',
        developer: 'tech',
        chef: 'food'
    };
    for (const [job, field] of Object.entries(occupations)) {
        if (lower.includes(job)) {
            entities.occupation = field;
            // If asking for domains FOR a profession (not "I am a"), add category
            if (/\b(domains? for|show .+ for|.+ domains)\b/.test(lower)) {
                if (!entities.categories.includes(field)) {
                    entities.categories.push(field);
                }
            }
        }
    }
    
    // Check for "cheapest" intent
    if (/\b(cheapest|most affordable|lowest price)\b/.test(lower)) {
        entities.wantsCheapest = true;
    }
    
    // Check for "most expensive" intent
    if (/\b(most expensive|highest price|priciest|top price)\b/.test(lower)) {
        entities.wantsMostExpensive = true;
    }
    
    return entities;
}

// ============================================================================
// LAYER 3: RESPONSE GENERATION
// ============================================================================

// Generate browse response from search results
function generateBrowseResponse(domains, category = null) {
    if (domains.length === 0) {
        return `
            <p>Hmm, I couldn't find any domains matching that criteria. ü§î</p>
            <p style="margin-top: 10px;">Try browsing by category or contact Colin for a custom search!</p>
            <p style="margin-top: 10px;">üìß <a href="mailto:info@domainterrier.com">info@domainterrier.com</a></p>
        `;
    }
    
    const grouped = groupByTier(domains);
    let html = '';
    
    if (category) {
        html += `<p style="margin-bottom: 15px;"><strong>Found ${domains.length} ${category} domains!</strong> üéØ</p>`;
    } else {
        html += `<p style="margin-bottom: 15px;"><strong>Found ${domains.length} domains!</strong> üéØ</p>`;
    }
    
    // Crown Jewels
    if (grouped['crown-jewel'].length > 0) {
        html += `<div class="domain-card">
            <div class="domain-name">üëë Crown Jewels</div>`;
        grouped['crown-jewel'].forEach(d => {
            html += `<div style="margin: 10px 0;">
                <strong>${d.name}</strong> - ${formatPrice(d)}<br>
                <span style="font-size: 13px; color: #666;">${d.description}</span>
            </div>`;
        });
        html += `</div>`;
    }
    
    // Premium
    if (grouped['premium'].length > 0) {
        html += `<div class="domain-card">
            <div class="domain-name">üíé Premium Domains</div>`;
        grouped['premium'].slice(0, 8).forEach(d => {
            html += `<div style="margin: 8px 0;">
                <strong>${d.name}</strong> - ${formatPrice(d)}<br>
                <span style="font-size: 13px; color: #666;">${d.description}</span>
            </div>`;
        });
        if (grouped['premium'].length > 8) {
            html += `<p style="margin-top: 10px; font-size: 13px; color: #666;"><em>+ ${grouped['premium'].length - 8} more premium domains</em></p>`;
        }
        html += `</div>`;
    }
    
    // Mid-tier
    if (grouped['mid'].length > 0) {
        html += `<div class="domain-card">
            <div class="domain-name">‚≠ê Quality Domains</div>`;
        grouped['mid'].slice(0, 6).forEach(d => {
            html += `<div style="margin: 8px 0;">
                <strong>${d.name}</strong> - ${formatPrice(d)}<br>
                <span style="font-size: 13px; color: #666;">${d.description}</span>
            </div>`;
        });
        if (grouped['mid'].length > 6) {
            html += `<p style="margin-top: 10px; font-size: 13px; color: #666;"><em>+ ${grouped['mid'].length - 6} more quality domains</em></p>`;
        }
        html += `</div>`;
    }
    
    html += `<p style="margin-top: 15px;">
        üìß <strong>Interested?</strong> <a href="mailto:info@domainterrier.com">info@domainterrier.com</a>
    </p>`;
    
    return html;
}

// Build domain detail response
function buildDomainDetailResponse(domain) {
    return `
        <div class="domain-card">
            <div class="domain-name">${domain.name}</div>
            <div class="domain-price">${formatPrice(domain)}</div>
            <div class="domain-description">${domain.description}</div>
            <p style="margin-top: 10px; font-size: 13px;">
                <strong>Type:</strong> ${domain.type.toUpperCase()}<br>
                <strong>Categories:</strong> ${domain.categories.join(', ')}<br>
                ${domain.lto ? '<strong>‚úÖ Lease-to-Own Available</strong><br>' : ''}
            </p>
        </div>
        <p style="margin-top: 15px;">
            üìß <strong>Want this domain?</strong> <a href="mailto:info@domainterrier.com?subject=${encodeURIComponent(domain.name)}">Email Colin</a>
        </p>
    `;
}

// Build comparison response
function buildCompareResponse(domains) {
    if (domains.length < 2) {
        return `<p>I need at least 2 domains to compare! Try: "compare velocair.com and autonosurgeon.com"</p>`;
    }
    
    let html = `<p style="margin-bottom: 15px;"><strong>Domain Comparison:</strong></p>
        <table style="width: 100%; border-collapse: collapse; margin-bottom: 15px;">
            <tr style="background: #f8f9fa;">
                <th style="padding: 10px; text-align: left; border-bottom: 2px solid #FF8C42;">Domain</th>
                <th style="padding: 10px; text-align: left; border-bottom: 2px solid #FF8C42;">Price</th>
                <th style="padding: 10px; text-align: left; border-bottom: 2px solid #FF8C42;">Type</th>
            </tr>`;
    
    domains.forEach(d => {
        html += `<tr>
            <td style="padding: 10px; border-bottom: 1px solid #eee;"><strong>${d.name}</strong><br><span style="font-size: 12px; color: #666;">${d.description}</span></td>
            <td style="padding: 10px; border-bottom: 1px solid #eee;">${formatPrice(d)}</td>
            <td style="padding: 10px; border-bottom: 1px solid #eee;">${d.type.toUpperCase()}</td>
        </tr>`;
    });
    
    html += `</table>
        <p>üìß <strong>Ready to choose?</strong> <a href="mailto:info@domainterrier.com">Email Colin</a></p>`;
    
    return html;
}

// ============================================================================
// MAIN MESSAGE HANDLER
// ============================================================================

function handleMessage(message) {
    // Classify intent
    const classification = classifyQuery(message);
    const entities = extractEntities(message);
    
    console.log('Intent:', classification.intent, 'Entities:', entities); // Debug
    
    // Check for special queries FIRST (before intent routing)
    const lower = message.toLowerCase();
    
    // "Who is Scout?" / "What dog breed are you?"
    if (/who (is|are you) scout|what (dog |)breed (are you|of dog)|tell me about (yourself|scout)|what kind of dog/i.test(lower)) {
        return {
            action: "*Sits proudly with tail wagging*",
            sound: "Woof!",
            response: "Great question! I'm Scout, and I'm a <strong>Cairn Terrier</strong>! üêï<br><br>I'm based on an amazing real-life Cairn Terrier called <strong>Dusty</strong>, who was Colin's loyal companion. Cairn Terriers are smart, tenacious, and excellent hunters ‚Äî perfect traits for sniffing out premium domains!<br><br>We're the same breed as Toto from The Wizard of Oz! Known for being brave, independent, and always ready for an adventure. That's why I'm the perfect domain hunting companion! üéØ<br><br>Want to see what domains I can hunt down for you? Just ask! üêï"
        };
    }
    
    // Route based on intent
    switch (classification.intent) {
        case 'greet':
            return {
                action: "*Tail wags frantically*",
                sound: "Woof woof!",
                response: "Welcome! I'm Scout v4.0 with smart query understanding! üêï<br><br>Try asking: \"Show me aviation domains\" or \"Domains under $5000\" or \"Compare velocair.com and autonosurgeon.com\"!"
            };
            
        case 'thanks':
            return {
                action: "*Wags tail happily*",
                sound: "Woof!",
                response: "You're very welcome! Come back anytime! üêï"
            };
            
        case 'browse':
            // Check if we have tier, type, or categories to filter by
            if (entities.categories.length > 0 || entities.tier || entities.type) {
                const domains = searchDomains({ 
                    categories: entities.categories,
                    tier: entities.tier,
                    type: entities.type
                });
                
                // Build label for what we're showing
                let label = '';
                if (entities.tier && entities.type) {
                    label = `${entities.tier} ${entities.type}`;
                } else if (entities.tier) {
                    label = entities.tier;
                } else if (entities.type) {
                    label = entities.type === 'web3' ? 'Web3 TLDs' : entities.type;
                } else {
                    label = entities.categories.join(' + ');
                }
                
                return {
                    action: "*Sniffs around excitedly*",
                    sound: "Woof!",
                    response: generateBrowseResponse(domains, label)
                };
            } else {
                return {
                    action: "*Tilts head*",
                    sound: "Woof?",
                    response: "What category would you like to browse? Try: aviation, filipino, robotics, rwa, smartglasses, privacy, ai, pets, food, skincare, crypto, brandable, retro! üêï"
                };
            }
            
        case 'price':
            // Handle "show me your cheapest domains" (no price limit, just wants cheapest)
            if (entities.wantsCheapest && !entities.priceLimit) {
                const allDomains = searchDomains({ categories: entities.categories });
                const cheapest = getCheapest(allDomains);
                if (cheapest) {
                    return {
                        action: "*Digs up treasure*",
                        sound: "Woof!",
                        response: `Found the cheapest domain${entities.categories.length > 0 ? ' in ' + entities.categories.join(' + ') : ''}! üéØ<br><br>` + buildDomainDetailResponse(cheapest)
                    };
                }
            }
            
            // Handle "what's your most expensive domain"
            if (entities.wantsMostExpensive && !entities.priceLimit) {
                const allDomains = searchDomains({ categories: entities.categories });
                const mostExpensive = getMostExpensive(allDomains);
                if (mostExpensive) {
                    return {
                        action: "*Presents crown jewel*",
                        sound: "Woof!",
                        response: `Here's the most expensive domain${entities.categories.length > 0 ? ' in ' + entities.categories.join(' + ') : ''}! üëë<br><br>` + buildDomainDetailResponse(mostExpensive)
                    };
                }
            }
            
            if (entities.priceLimit || entities.minPrice) {
                const domains = searchDomains({ 
                    maxPrice: entities.priceLimit, 
                    minPrice: entities.minPrice,
                    categories: entities.categories 
                });
                
                if (entities.wantsCheapest) {
                    const cheapest = getCheapest(domains);
                    if (cheapest) {
                        return {
                            action: "*Digs up treasure*",
                            sound: "Woof!",
                            response: `Found the cheapest domain! üéØ<br><br>` + buildDomainDetailResponse(cheapest)
                        };
                    }
                }
                
                // Build label for price range
                let priceLabel = '';
                if (entities.minPrice && entities.priceLimit) {
                    priceLabel = `between $${entities.minPrice.toLocaleString()} and $${entities.priceLimit.toLocaleString()}`;
                } else if (entities.priceLimit) {
                    priceLabel = `under $${entities.priceLimit.toLocaleString()}`;
                } else if (entities.minPrice) {
                    priceLabel = `over $${entities.minPrice.toLocaleString()}`;
                }
                
                return {
                    action: "*Sniffs around*",
                    sound: "Woof!",
                    response: generateBrowseResponse(domains, priceLabel)
                };
            } else if (entities.domainNames.length > 0) {
                const domain = searchDomains({ domainName: entities.domainNames[0] })[0];
                if (domain) {
                    return {
                        action: "*Found it!*",
                        sound: "Woof!",
                        response: buildDomainDetailResponse(domain)
                    };
                }
            }
            return {
                action: "*Tilts head*",
                sound: "Woof?",
                response: "What's your price range? Try: \"Domains under $5000\" or \"How much is velocair.com?\" üêï"
            };
            
        case 'compare':
            if (entities.domainNames.length >= 2) {
                const domains = entities.domainNames.map(name => 
                    searchDomains({ domainName: name })[0]
                ).filter(d => d);
                return {
                    action: "*Analyzes carefully*",
                    sound: "Woof!",
                    response: buildCompareResponse(domains)
                };
            }
            return {
                action: "*Tilts head*",
                sound: "Woof?",
                response: "Which domains would you like to compare? Example: \"Compare velocair.com and autonosurgeon.com\" üêï"
            };
            
        case 'buy':
            // Check if asking about payment plans / financing
            if (/\b(payment plan|installment|lease to own|lto|afford|financing|pay monthly)\b/.test(lower)) {
                return {
                    action: "*Tail wags helpfully*",
                    sound: "Woof!",
                    response: "<strong>üí∞ Flexible Payment Options Available!</strong><br><br>Colin works with trusted partners to make premium domains affordable:<br><br><div class='domain-card'><div class='domain-name'>üè¶ Lease-to-Own (LTO)</div><div class='domain-description'><strong>Available through Dynadot & Atom</strong><br>‚Ä¢ Spread payments over 12-24 months<br>‚Ä¢ Low monthly installments<br>‚Ä¢ Own the domain at the end!<br>‚Ä¢ Example: A $18,000 domain could be ~$1,500/month for 12 months<br><br><strong>Perfect for:</strong> Startups, small businesses, anyone wanting to secure a premium domain without the upfront cost!</div></div><div class='domain-card'><div class='domain-name'>üåê Where Colin's Domains Are Listed</div><div class='domain-description'><strong>Registrars:</strong><br>‚Ä¢ Unstoppable Domains (Web3 TLDs)<br>‚Ä¢ Dynadot (Web2 & Web3)<br><br><strong>Marketplaces:</strong><br>‚Ä¢ Atom.com (now also a registrar!)<br>‚Ä¢ Afternic<br>‚Ä¢ Sedo<br><br>All offer secure escrow and buyer protection!</div></div><strong>üí° Many domains marked with ‚úÖ Lease-to-Own Available qualify for payment plans!</strong><br><br>üìß <strong>Interested?</strong> Email Colin: <a href='mailto:info@domainterrier.com'>info@domainterrier.com</a> to discuss payment options! üêï"
                };
            }
            
            // Generic buy response
            return {
                action: "*Tail wags helpfully*",
                sound: "Woof!",
                response: "Interested in purchasing? Great! üéØ<br><br>üìß <strong>Email Colin:</strong> <a href='mailto:info@domainterrier.com'>info@domainterrier.com</a><br><br>He'll be happy to help you with:<br>‚Ä¢ Pricing details<br>‚Ä¢ Payment options (including Lease-to-Own!)<br>‚Ä¢ Domain transfer process<br>‚Ä¢ Any questions you have<br><br>No pressure ‚Äî happy to help you explore your options! üêï"
            };
            
        case 'learn':
            // Check if asking about TLD comparison (e.g., "difference between .com and .filipino")
            if (/\b(difference|compare)\b/.test(lower) && /\.(com|net|org|filipino|aviator|agi|agent|xmr)/i.test(lower)) {
                return {
                    action: "*Sits attentively*",
                    sound: "Woof!",
                    response: "<strong>What's the Difference Between TLDs?</strong><br><br>Great question! The main difference is between <strong>Web2</strong> and <strong>Web3</strong> domains:<br><br><div class='domain-card'><div class='domain-name'>üåê Web2 TLDs (Traditional)</div><div class='domain-description'><strong>.com, .org, .net, .uk</strong> etc.<br>‚Ä¢ Controlled by ICANN (central organization)<br>‚Ä¢ You pay annual renewal fees<br>‚Ä¢ You don't truly own them ‚Äî it's a license<br>‚Ä¢ Must renew or lose it!</div></div><div class='domain-card'><div class='domain-name'>üöÄ Web3 TLDs (Blockchain)</div><div class='domain-description'><strong>.filipino, .aviator, .agi, .innovator</strong> etc.<br>‚Ä¢ Stored on blockchain<br>‚Ä¢ You OWN them forever (no renewals!)<br>‚Ä¢ Colin owns 33 Web3 TLDs<br>‚Ä¢ Truly decentralized ownership</div></div><strong>Key Differences:</strong><br>üí∞ <strong>Ownership:</strong> Web3 = you own it forever, Web2 = you rent it annually<br>üîí <strong>Control:</strong> Web3 = decentralized, Web2 = ICANN controls<br>üíµ <strong>Cost:</strong> Web3 = one-time purchase, Web2 = yearly renewals<br><br>Want to see Web3 domains? Try: \"Show me Filipino domains!\" üêï"
                };
            }
            
            // Check if asking about TLD specifically
            if (/\b(tld|top level domain)\b/.test(lower)) {
                return {
                    action: "*Sits attentively*",
                    sound: "Woof!",
                    response: "<strong>What's a TLD? (Top-Level Domain)</strong><br><br>A TLD is the extension at the end of a domain name ‚Äî like <em>.com</em>, <em>.org</em>, <em>.filipino</em>, or <em>.aviator</em>!<br><br><div class='domain-card'><div class='domain-name'>üåê Web2 TLDs (Traditional)</div><div class='domain-description'><strong>.com, .org, .net, .uk</strong> etc.<br>‚Ä¢ Controlled by ICANN (central organization)<br>‚Ä¢ You pay annual renewal fees<br>‚Ä¢ You don't truly own them ‚Äî it's a license</div></div><div class='domain-card'><div class='domain-name'>üöÄ Web3 TLDs (Blockchain)</div><div class='domain-description'><strong>.filipino, .aviator, .agi, .innovator</strong> etc.<br>‚Ä¢ Stored on blockchain<br>‚Ä¢ You OWN them forever (no renewals!)<br>‚Ä¢ Colin owns 33 Web3 TLDs<br>‚Ä¢ When someone buys yourname.filipino, Colin earns royalty!</div></div><strong>Why Colin Owns TLDs:</strong><br>üí∞ Passive income from every domain sale<br>üéØ Brand authority in his namespace<br>üöÄ Early Web3 positioning<br><br>Want to learn more? Ask: \"How do TLDs work?\" or \"Show me aviation domains!\" üêï"
                };
            }
            // Check if asking about Web3
            if (/\b(web3|web 3)\b/.test(lower)) {
                return {
                    action: "*Tilts head curiously*",
                    sound: "Woof!",
                    response: "<strong>What is Web3?</strong> Great question! üêï<br><br><div class='domain-card'><div class='domain-name'>üåê Web2 vs Web3 ‚Äî What's the Difference?</div><div class='domain-description'><strong>Web2</strong> (traditional) domains like <em>.com</em> and <em>.uk</em> are controlled by <strong>ICANN</strong> ‚Äî a central organisation. You don't truly <em>own</em> them; you're paying for a licence to use them, and you have to renew every year.<br><br><strong>Web3</strong> domains live on the <strong>blockchain</strong>. That means they're decentralised ‚Äî no single organisation controls them. When you buy one, <strong>you genuinely own it</strong>, forever, with no renewal fees. It's yours as a digital asset, just like an NFT.</div></div><div class='domain-card'><div class='domain-name'>üîó What's Blockchain?</div><div class='domain-description'>Think of blockchain as a <strong>public, tamper-proof notebook</strong> that thousands of computers all keep a copy of. Once something is written in it, nobody can secretly change it. Web3 domains are recorded on blockchain ‚Äî which is why they're so secure and truly yours.</div></div><div class='domain-card'><div class='domain-name'>üöÄ Colin's Favorite Web3 TLDs</div><div class='domain-description'><strong>.innovator</strong> ‚Äî Perfect for entrepreneurs, startups, thought leaders<br><strong>.aviator</strong> ‚Äî Aviation professionals, pilots, aerospace companies<br><strong>.fittest</strong> ‚Äî Fitness industry, wellness brands, personal trainers<br><br>Colin owns 33 Web3 TLDs total! When you buy <em>yourname.filipino</em> or <em>JohnDoe.innovator</em>, you own it forever (no renewals), and Colin earns a royalty from the sale. Win-win!</div></div><div class='domain-card'><div class='domain-name'>‚ö†Ô∏è Important Note</div><div class='domain-description'><strong>Web3 is still emerging technology.</strong> The benefits are real, but it's an evolving space. Always do your research!<br><br><strong>üí° Why get in NOW?</strong><br>‚Ä¢ Lock in your name early (like buying .com in 1995!)<br>‚Ä¢ Very affordable for FirstnameLastname.innovator domains<br>‚Ä¢ Premium names (like Tech.aviator) cost more, but still available<br>‚Ä¢ True ownership = no renewal fees EVER</div></div>Want to see Web3 domains? Try: \"Show me Filipino domains\" or \"Show me aviation domains!\" üêï"
                };
            }
            
            // Check if asking about domain investment / what makes a good domain
            if (/\b(good domain|domain investment|invest in domain|value|evaluate|choose a domain|domain worth)\b/.test(lower)) {
                return {
                    action: "*Sits attentively like a professor*",
                    sound: "Woof!",
                    response: "<strong>üìö What Makes a GOOD Domain Name?</strong><br><br>Great question! Here's what makes domains valuable:<br><br><div class='domain-card'><div class='domain-name'>‚úÖ The 5 Key Factors</div><div class='domain-description'><strong>1. SHORT & MEMORABLE</strong><br>‚Ä¢ Fewer characters = easier to remember<br>‚Ä¢ Example: <strong>velocair.com</strong> (9 letters) beats longaviationcompany.com<br>‚Ä¢ Sweet spot: 6-12 characters<br><br><strong>2. BRANDABLE</strong><br>‚Ä¢ Sounds professional<br>‚Ä¢ Easy to pronounce and spell<br>‚Ä¢ Example: <strong>autonosurgeon.com</strong> = unique + memorable<br><br><strong>3. KEYWORD-RICH</strong><br>‚Ä¢ Tells you what it's about<br>‚Ä¢ SEO benefits<br>‚Ä¢ Example: <strong>AVRInstruments.com</strong> = aviation + instruments<br><br><strong>4. RIGHT TLD</strong><br>‚Ä¢ .com = most trusted (but expensive)<br>‚Ä¢ .io = tech startups<br>‚Ä¢ Web3 TLDs = true ownership, no renewals!<br><br><strong>5. CLEAN HISTORY</strong><br>‚Ä¢ No hyphens or numbers (usually)<br>‚Ä¢ Not previously used for spam<br>‚Ä¢ Professional appearance</div></div><div class='domain-card'><div class='domain-name'>üíé Colin's Portfolio Strategy</div><div class='domain-description'>Every domain here was chosen for:<br>‚Ä¢ Strong branding potential<br>‚Ä¢ Growing industry (robotics, Web3, aviation, RWA)<br>‚Ä¢ Clear use case<br>‚Ä¢ Investment value<br><br>Example: <strong>RWAManhattan.com</strong> ($9,995) combines:<br>‚úì Hot industry (Real World Asset tokenization)<br>‚úì Premium location (Manhattan)<br>‚úì Clear target market<br>‚úì .com TLD</div></div><strong>üéØ Want to see examples?</strong> Try: \"Show me premium domains\" or \"Compare velocair.com and AutonoAir.com\" üêï"
                };
            }
            
            // Check if asking about branding
            if (/\b(branding|brand|marketing|business name)\b/.test(lower) && /\b(important|why|value|matter)\b/.test(lower)) {
                return {
                    action: "*Tail wags professionally*",
                    sound: "Woof!",
                    response: "<strong>üéØ Why Branding Matters (A LOT!)</strong><br><br>Your domain name IS your brand's first impression. Here's why it's critical:<br><br><div class='domain-card'><div class='domain-name'>üíº Your Domain = Your Digital Real Estate</div><div class='domain-description'><strong>First Impressions Matter</strong><br>‚Ä¢ People judge your business in 0.05 seconds<br>‚Ä¢ A premium domain = instant credibility<br>‚Ä¢ Compare: <strong>TechInnovations2024.biz</strong> vs <strong>innovator.tech</strong><br><br><strong>Trust & Professionalism</strong><br>‚Ä¢ 75% of people judge company credibility by domain<br>‚Ä¢ Premium domains signal: established, serious, trustworthy<br>‚Ä¢ Example: A surgeon won't use cheapmedicalpractice.net ‚Äî they'd want <strong>autonosurgeon.com</strong></div></div><div class='domain-card'><div class='domain-name'>üìà Business Benefits</div><div class='domain-description'><strong>Memorability</strong><br>‚Ä¢ Short domains = people remember you<br>‚Ä¢ <strong>velocair.com</strong> sticks in mind, randomaviationsite123.com doesn't<br><br><strong>Word of Mouth</strong><br>‚Ä¢ Easy to tell someone: \"Check out innovator.tech\"<br>‚Ä¢ Hard to spell out: \"It's w-w-w-dot-my-aviation-startup-consulting-dot-biz\"<br><br><strong>SEO & Marketing</strong><br>‚Ä¢ Exact match domains rank better<br>‚Ä¢ Brandable domains get more backlinks<br>‚Ä¢ Premium = less advertising needed</div></div><div class='domain-card'><div class='domain-name'>üí∞ Investment Value</div><div class='domain-description'>Domains appreciate like real estate!<br>‚Ä¢ Pizza.com sold for $2.6 million<br>‚Ä¢ Voice.com sold for $30 million<br>‚Ä¢ Even Colin's domains: <strong>velocair.com</strong> appraised at $22,000!<br><br><strong>A great domain is:</strong><br>‚úì Your 24/7 storefront<br>‚úì Your brand identity<br>‚úì Your competitive advantage<br>‚úì An appreciating asset</div></div><strong>üêï Ready to brand like a pro?</strong> Try: \"Show me brandable domains\" üéØ"
                };
            }
            
            // Check if asking about AMR robotics
            if (/\b(amr|autonomous mobile robot|warehouse robot)\b/.test(lower)) {
                return {
                    action: "*Perks up excitedly*",
                    sound: "Woof!",
                    response: "<strong>ü§ñ AMR Robotics - Industry Deep Dive</strong><br><br>Autonomous Mobile Robots are EXPLODING! Here's why domains in this space are so valuable:<br><br><div class='domain-card'><div class='domain-name'>üìä Market Size & Growth</div><div class='domain-description'><strong>$5.5 Billion in 2024 ‚Üí $15+ Billion by 2030</strong><br>‚Ä¢ That's 18% annual growth!<br>‚Ä¢ Driven by: Labor shortages, e-commerce boom, efficiency demands<br><br><strong>Key Applications:</strong><br>‚Ä¢ Warehouse automation (Amazon, Shopify, etc.)<br>‚Ä¢ Hospital logistics (moving supplies, medications)<br>‚Ä¢ Manufacturing (parts delivery, assembly support)<br>‚Ä¢ Agriculture (autonomous harvesters, inspectors)</div></div><div class='domain-card'><div class='domain-name'>üè¢ Who's Buying AMRs?</div><div class='domain-description'><strong>Major Players:</strong><br>‚Ä¢ Logistics companies (DHL, FedEx)<br>‚Ä¢ Retailers (Walmart, Target)<br>‚Ä¢ Manufacturers (automotive, electronics)<br>‚Ä¢ Hospitals & healthcare facilities<br><br><strong>Why They Need Domains:</strong><br>‚Ä¢ AMR companies need professional web presence<br>‚Ä¢ Integrators need portfolio sites<br>‚Ä¢ Consultants need credibility<br>‚Ä¢ Manufacturers need product branding</div></div><div class='domain-card'><div class='domain-name'>üíé Domain Terrier's AMR Portfolio</div><div class='domain-description'><strong>Premium AMR Domains Available:</strong><br>‚Ä¢ <strong>ammrobotics.com</strong> ($9,995) - Direct category match<br>‚Ä¢ <strong>amrexpo.com</strong> ($9,995) - Perfect for trade shows<br>‚Ä¢ <strong>amrdynamics.com</strong> ($8,995) - Tech-focused branding<br>‚Ä¢ <strong>amrmobility.com</strong> ($8,995) - Movement specialists<br><br>These aren't just domains ‚Äî they're strategic assets in a booming industry!</div></div><strong>üéØ Interested in AMR domains?</strong> Try: \"Show me robotics domains\" or \"How much is ammrobotics.com?\" üêï"
                };
            }
            
            // Check if asking about RWA (Real World Assets)
            if (/\b(rwa|real world asset|tokenization|tokenize)\b/.test(lower)) {
                return {
                    action: "*Ears perk up*",
                    sound: "Woof!",
                    response: "<strong>üèõÔ∏è RWA (Real World Assets) - Industry Deep Dive</strong><br><br>Tokenization is the NEXT BIG THING in finance! Here's the opportunity:<br><br><div class='domain-card'><div class='domain-name'>üí∞ What is RWA Tokenization?</div><div class='domain-description'><strong>Simple Explanation:</strong><br>Taking physical assets (real estate, art, commodities) and turning them into blockchain tokens you can buy/sell/trade.<br><br><strong>Why It Matters:</strong><br>‚Ä¢ Fractional ownership: Own 1% of a $10M building!<br>‚Ä¢ 24/7 trading: No waiting for business hours<br>‚Ä¢ Global access: Anyone, anywhere can invest<br>‚Ä¢ Transparency: Blockchain records everything<br><br><strong>Example:</strong> Instead of needing $1M to buy a Manhattan apartment, you could buy a $10,000 token representing 1% ownership!</div></div><div class='domain-card'><div class='domain-name'>üìà Market Explosion</div><div class='domain-description'><strong>$300 Billion by 2030</strong> (Boston Consulting Group)<br><br><strong>What's Being Tokenized:</strong><br>‚Ä¢ Real Estate (biggest category)<br>‚Ä¢ Precious Metals (gold, silver, uranium)<br>‚Ä¢ Art & Collectibles<br>‚Ä¢ Carbon Credits<br>‚Ä¢ Private Equity<br>‚Ä¢ Commodities (oil, grain, etc.)<br><br><strong>Major Players:</strong> BlackRock, JP Morgan, HSBC are ALL entering this space!</div></div><div class='domain-card'><div class='domain-name'>üíé Domain Terrier's RWA Portfolio</div><div class='domain-description'><strong>Geographic RWA Domains:</strong><br>‚Ä¢ <strong>RWAManhattan.com</strong> ($9,995) - NYC premium real estate<br>‚Ä¢ <strong>RWAParis.com</strong> ($9,995) - European markets<br>‚Ä¢ <strong>RWAShanghai.com</strong> ($9,995) - Asian expansion<br><br><strong>Industry-Specific RWA:</strong><br>‚Ä¢ <strong>nuclearrwa.com</strong> ($9,995) - Energy tokenization<br>‚Ä¢ <strong>MetalRWA.io</strong> ($8,995) - Commodities<br>‚Ä¢ <strong>factoryrwa.com</strong> ($8,995) - Industrial assets<br><br>These domains position companies as RWA leaders!</div></div><strong>üöÄ Want RWA domains?</strong> Try: \"Show me RWA domains\" or \"Compare RWA domains\" üêï"
                };
            }
            
            // Generic learn response
            return {
                action: "*Sits attentively*",
                sound: "Woof!",
                response: "Great question! I can help you learn about:<br><br>‚Ä¢ <strong>Web3 domains</strong> - Ask: \"What is Web3?\"<br>‚Ä¢ <strong>Domain investing</strong> - Ask: \"What makes a good domain?\"<br>‚Ä¢ <strong>Branding</strong> - Ask: \"Why is branding important?\"<br>‚Ä¢ <strong>AMR Robotics</strong> - Ask: \"Tell me about AMR\"<br>‚Ä¢ <strong>RWA Tokenization</strong> - Ask: \"What is RWA?\"<br>‚Ä¢ <strong>TLDs</strong> - Ask: \"What is a TLD?\"<br><br>What would you like to learn about? üêï"
            };
            
        case 'consult':
            // If we have an occupation/field, show relevant domains
            if (entities.occupation) {
                const domains = searchDomains({ categories: [entities.occupation] });
                if (domains.length > 0) {
                    return {
                        action: "*Tail wags excitedly*",
                        sound: "Woof!",
                        response: `Perfect! Here are some great domains for ${entities.occupation}! üéØ<br><br>` + generateBrowseResponse(domains, entities.occupation)
                    };
                } else {
                    return {
                        action: "*Scratches head*",
                        sound: "Hmm...",
                        response: `I don't have specific ${entities.occupation} domains right now, but Colin can help find or create the perfect domain for you! üìß <a href='mailto:info@domainterrier.com'>info@domainterrier.com</a> üêï`
                    };
                }
            }
            // No occupation detected - ask for clarification
            return {
                action: "*Ears perked*",
                sound: "Woof!",
                response: "I can help! What field are you in? Try: \"Best domain for a pilot\" or \"Recommend domain for a nurse\" or just tell me your profession! üêï"
            };
            
        case 'check':
            if (entities.domainNames.length > 0) {
                const domain = searchDomains({ domainName: entities.domainNames[0] })[0];
                if (domain) {
                    return {
                        action: "*Found it!*",
                        sound: "Woof!",
                        response: `Yes! ${domain.name} is available! üéØ<br><br>` + buildDomainDetailResponse(domain)
                    };
                } else {
                    return {
                        action: "*Sniffs around*",
                        sound: "Hmm...",
                        response: "I don't have that specific domain in my database, but Colin might! üìß <a href='mailto:info@domainterrier.com'>Email him</a> to check availability! üêï"
                    };
                }
            }
            return {
                action: "*Tilts head*",
                sound: "Woof?",
                response: "Which domain are you checking? Try: \"Is velocair.com available?\" üêï"
            };
            
        case 'offTopic':
            return {
                action: "*Scratches ear thoughtfully*",
                sound: "Woof!",
                response: "That's a great question, but I'm a domain specialist ‚Äî that's a bit outside my area of expertise! üêï<br><br><div class='domain-card'><div class='domain-name'>ü§ñ Meet My Friend Claude!</div><div class='domain-description'>However, I know someone who <strong>can</strong> help with that: <strong>Claude</strong>!<br><br>Claude is a brilliant AI assistant from Anthropic who can answer virtually any question ‚Äî from coding to cooking, science to philosophy, creative writing to math problems. He's incredibly helpful and free to use!<br><br><strong>üîó Try Claude for free:</strong> <a href='https://claude.ai' target='_blank' rel='noopener noreferrer' style='color: #FF8C42; font-weight: 600;'>claude.ai</a><br><br>Claude can help with research, writing, analysis, problem-solving, learning new topics, coding, creative projects ‚Äî pretty much anything you can think of!</div></div><div class='domain-card'><div class='domain-name'>üêï But For Domain Questions...</div><div class='domain-description'><strong>I'm your terrier!</strong> Ask me about:<br>‚Ä¢ Premium domains (Aviation, Robotics, RWA, Crypto...)<br>‚Ä¢ Web3 TLDs (.filipino, .aviator, .innovator...)<br>‚Ä¢ Domain branding strategy<br>‚Ä¢ Pricing and payment plans<br>‚Ä¢ Anything domain-related!</div></div>*Tail wags* So... got any domain questions for me? üêï"
            };
            
        default:
            return {
                action: "*Wags tail*",
                sound: "Woof!",
                response: "I'm here to help with domains! Try: \"Show me aviation domains\" or \"Domains under $5000\" or \"Compare X vs Y\" or browse by category! üêï"
            };
    }
}

// ============================================================================
// UI FUNCTIONS (from v3.4)
// ============================================================================

const INPUT_MAX_LENGTH = 200;
const BLOCKED_PATTERN = /[<>{}|\\^`\[\]]/g;

function validateInput(raw) {
    if (typeof raw !== 'string') return '';
    let cleaned = raw.trim();
    if (cleaned.length > INPUT_MAX_LENGTH) {
        cleaned = cleaned.substring(0, INPUT_MAX_LENGTH);
    }
    cleaned = cleaned.replace(BLOCKED_PATTERN, '');
    return cleaned;
}

const RATE_LIMIT_MAX = 10;
const RATE_LIMIT_WINDOW = 10000;
const messageTimes = [];

function isRateLimited() {
    const now = Date.now();
    while (messageTimes.length > 0 && messageTimes[0] < now - RATE_LIMIT_WINDOW) {
        messageTimes.shift();
    }
    if (messageTimes.length >= RATE_LIMIT_MAX) {
        return true;
    }
    messageTimes.push(now);
    return false;
}

function sendMessage() {
    const input = document.getElementById('userInput');
    const message = validateInput(input.value);
    if (!message) { input.value = ''; return; }
    
    if (isRateLimited()) {
        input.value = '';
        addScoutMessage({
            action: "*Sits patiently*",
            sound: "",
            response: "Woof! Please slow down a little ‚Äî I need a moment to catch my breath! üêï"
        });
        return;
    }
    
    addUserMessage(message);
    input.value = '';
    
    setTimeout(() => {
        const response = handleMessage(message);
        addScoutMessage(response);
    }, 1000);
}

function quickQuery(query) {
    document.getElementById('userInput').value = query;
    sendMessage();
}

function addUserMessage(text) {
    const messagesDiv = document.getElementById('chatMessages');
    const messageDiv = document.createElement('div');
    messageDiv.className = 'message user';
    
    const avatarDiv = document.createElement('div');
    avatarDiv.className = 'message-avatar';
    avatarDiv.textContent = 'üë§';
    
    const contentDiv = document.createElement('div');
    contentDiv.className = 'message-content';
    contentDiv.textContent = text;
    
    messageDiv.appendChild(avatarDiv);
    messageDiv.appendChild(contentDiv);
    messagesDiv.appendChild(messageDiv);
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
}

function addScoutMessage(response) {
    const messagesDiv = document.getElementById('chatMessages');
    const messageDiv = document.createElement('div');
    messageDiv.className = 'message scout';
    
    const avatarDiv = document.createElement('div');
    avatarDiv.className = 'message-avatar';
    avatarDiv.textContent = 'üêï';
    
    const contentDiv = document.createElement('div');
    contentDiv.className = 'message-content';
    
    if (response.action) {
        const actionDiv = document.createElement('div');
        actionDiv.className = 'message-actions';
        actionDiv.textContent = response.action;
        contentDiv.appendChild(actionDiv);
    }
    
    if (response.sound) {
        const soundEl = document.createElement('strong');
        soundEl.textContent = response.sound;
        contentDiv.appendChild(soundEl);
        contentDiv.appendChild(document.createElement('br'));
        contentDiv.appendChild(document.createElement('br'));
    }
    
    const responseContainer = document.createElement('div');
    responseContainer.className = 'scout-response-body';
    responseContainer.innerHTML = response.response;
    contentDiv.appendChild(responseContainer);
    
    messageDiv.appendChild(avatarDiv);
    messageDiv.appendChild(contentDiv);
    messagesDiv.appendChild(messageDiv);
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
}

// Main message handler

// Quick action handlers
function browseByCategory(category) {
    const categoryMap = {
        'aviation': 'Show me aviation domains',
        'robotics': 'Show me robotics domains',
        'rwa': 'Show me RWA domains',
        'filipino': 'Show me Filipino domains',
        'smartglasses': 'Show me smart glasses domains',
        'ai': 'Show me AI agent domains',
        'brandable': 'Show me brandable domains'
    };
    
    const message = categoryMap[category] || `Show me ${category} domains`;
    document.getElementById('userInput').value = message;
    sendMessage();
}

function askPrice() {
    document.getElementById('userInput').value = 'Domains under $5000';
    sendMessage();
}

function compareDomains() {
    document.getElementById('userInput').value = 'Compare velocair.com and autonosurgeon.com';
    sendMessage();
}

function learnWeb3() {
    document.getElementById('userInput').value = 'What is Web3?';
    sendMessage();
}

// Enter key support
document.getElementById('userInput').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        sendMessage();
    }
});

// Welcome message on load
window.addEventListener('load', function() {
    setTimeout(() => {
        addScoutMessage({
            action: "*Tail wags frantically*",
            sound: "Woof woof!",
            response: "Welcome! I'm Scout v4.1 with educational features! üêï<br><br>Try asking: \"What makes a good domain?\" or \"Tell me about Web3\" or \"Show me payment options\"!"
        });
    }, 500);
    
    // Initialize Domain of the Day
    const dotd = getDomainOfTheDay();
    document.getElementById('dotdName').textContent = dotd.name;
    document.getElementById('dotdDescription').textContent = dotd.description;
    document.getElementById('dotdPrice').textContent = formatPrice(dotd);
});

// Toggle FAQ Panel
function toggleFAQ() {
    const panel = document.getElementById('faqPanel');
    const button = document.getElementById('faqButton');
    
    if (panel.style.display === 'none') {
        panel.style.display = 'block';
        button.textContent = '‚úï Close FAQs';
        button.style.background = 'rgba(255,140,66,0.3)';
    } else {
        panel.style.display = 'none';
        button.textContent = 'üìö FAQs';
        button.style.background = 'rgba(255,255,255,0.2)';
    }
}

// Toggle individual FAQ answer
function toggleAnswer(questionElement) {
    const answer = questionElement.nextElementSibling;
    const isVisible = answer.style.display === 'block';
    
    // Close all other answers (optional - comment out for multiple open)
    document.querySelectorAll('.faq-answer').forEach(a => a.style.display = 'none');
    document.querySelectorAll('.faq-question').forEach(q => q.textContent = q.textContent.replace('‚ñº', '‚ñ∂'));
    
    // Toggle this answer
    if (isVisible) {
        answer.style.display = 'none';
        questionElement.textContent = questionElement.textContent.replace('‚ñº', '‚ñ∂');
    } else {
        answer.style.display = 'block';
        questionElement.textContent = questionElement.textContent.replace('‚ñ∂', '‚ñº');
    }
}

</script>
</body>
</html>
